
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Unit 06 More Statistics: Comparing Distributions &#8212; Data-Driven Chemistry</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Unit 06 An Introduction to Molecular Geometries" href="Unit_06_molecular_geometries_II.html" />
    <link rel="prev" title="Unit 05: Introduction to NumPy and Plotting, part II" href="../Unit_05/Unit_05_II_plotting.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data-Driven Chemistry</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../overview.html">
                    Welcome to Data-Driven Chemistry
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About Data-Driven Chemistry
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../book_intro.html">
   Data Driven Chemistry
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_01/Unit_01_problem_solving_I.html">
   Unit 01: Problem Solving I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_01/Unit_01_problem_solving_II.html">
   Unit 01: Problem Solving II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_02/Unit_02_variables_I.html">
   Unit 02: First steps in Python I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_02/Unit_02_variables_II.html">
   Unit 2: First steps in Python II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_03/Unit_03_loops_I.html">
   Unit 03: Loops, pandas and simple plotting I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_03/Unit_03_loops_II.html">
   Unit 03: Loops, pandas and simple plotting II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_04/Unit_04_functions_I.html">
   Unit 04: Functions I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_04/Unit_04_functions_II.html">
   Unit 04: Functions II
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Plotting and Statistics
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_05/Unit_05_I_numerical_data.html">
   Unit 05: Introduction to NumPy and Plotting, part I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_05/Unit_05_II_plotting.html">
   Unit 05: Introduction to NumPy and Plotting, part II
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Unit 06 More Statistics: Comparing Distributions
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Molecular Geometries
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Unit_06_molecular_geometries_II.html">
   Unit 06 An Introduction to Molecular Geometries
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Fitting Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_07/Unit_07_fitting_I.html">
   Unit 07 Fitting Part I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_07/Unit_07_fitting_II.html">
   Unit 07 Fitting Part II
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Applications of Python in Chemistry
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_08/Unit_08_Applications_I.html">
   Unit 08 Applications to Chemistry I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_09/Unit_09_applications_II_part_I.html">
   Unit 09: Applications II UV-Vis Spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_09/Unit_09_applications_II_part_II.html">
   Unit 09: Applications II  Protein SAXS and simulation data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_10/Unit_10_NMR_application_student.html">
   Unit 10 - Analysing NMR Data from Start to Finish
   <a class="tocSkip">
   </a>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_10/Unit_10_NMR_application_solution.html">
   Unit 10 - Analysing NMR Data from Start to Finish
   <a class="tocSkip">
   </a>
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/Edinburgh-Chemistry-Teaching/Data-driven-chemistry/main?urlpath=tree/Unit_06/Unit_06_statistics_I.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/Edinburgh-Chemistry-Teaching/Data-driven-chemistry"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/Edinburgh-Chemistry-Teaching/Data-driven-chemistry/issues/new?title=Issue%20on%20page%20%2FUnit_06/Unit_06_statistics_I.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/Unit_06/Unit_06_statistics_I.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Unit 06 More Statistics: Comparing Distributions
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-objectives">
     Learning Objectives
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table-of-contents">
     Table of Contents
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#further-reading-for-this-topic">
     Further reading for this topic
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#link-to-documentation">
     Link to documentation:
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#loading-files">
       Loading files
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#statistics">
       Statistics
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#which-method-should-i-use-for-reading-a-data-file">
     1. Which method should I use for reading a data file?
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#inspecting-the-file">
       1.1 Inspecting the file
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reading-a-file-with-numpy">
       1.2 Reading a file with NumPy
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reading-a-file-with-pandas">
       1.3 Reading a file with Pandas
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reading-a-file-using-basic-python">
       1.4 Reading a file using basic Python
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tasks-1">
     Tasks 1
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-recap">
   2. Plotting Recap
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-your-understanding-of-plotting-data">
     Test your understanding of plotting data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-to-plot-data">
       How to plot data?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-do-you-add-axis-labels-correctly">
       How do you add axis labels correctly?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-do-you-plot-data-using-a-logarithmic-x-axis-you-have-not-been-taught-this-try-and-figure-it-out">
       How do you plot data using a logarithmic x-axis (you have not been taught this, try and figure it out)
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#additional-practice-material">
       Additional practice material:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#handling-datasets-and-statistics">
     3. Handling datasets and statistics
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#working-with-measurement-data">
       3.1. Working with measurement data
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#the-population-mean-of-a-dataset-gives-you-the-average-value-by-summing-all-datapoints-and-dividing-by-the-number-of-data-points">
         The population mean of a dataset gives you the average value by summing all datapoints and dividing by the number of data points
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tasks">
     Tasks
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-i-know-if-two-distributions-are-the-same">
     4. How do I know if two distributions are the same?
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-normal-or-gaussian-distribution">
       4.1 The Normal or Gaussian distribution
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#generating-n-data-points-according-to-a-normal-distribution-in-python">
       Generating N data points according to a normal distribution in Python
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Tasks
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#comparing-two-distributions">
       4.2 Comparing two distributions
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#comparing-the-distribution-of-ph-between-red-and-white-wines">
         Comparing the distribution of pH between red and white wines
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-boxplot-can-graphically-show-the-locality-spread-and-distribution-of-the-data">
       A boxplot can graphically show the locality, spread and distribution of the data
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#let-s-plot-the-ph-data-as-a-boxplot">
         Let’s plot the pH data as a boxplot
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#these-numbers-look-quite-similar-can-we-statistically-say-if-they-come-from-a-different-underlying-distribution">
         These numbers look quite similar. Can we statistically say if they come from a different underlying distribution?
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-student-s-t-test">
       4.3 The Student’s t-test
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#when-to-use-a-t-test">
         When to use a t-test?
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#performing-a-t-test">
         Performing a t-test
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#pooled-standard-deviations-of-a-dataset">
         Pooled standard deviations of a dataset
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#what-does-the-calculated-t-value-mean">
         What does the calculated t-value mean?
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#the-null-hypothesis-and-tabulated-data">
         The Null hypothesis and tabulated data
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#performing-a-two-sample-t-test">
         Performing a two sample t-test
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#hypothesis-reminder">
         Hypothesis reminder:
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Tasks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#break">
   Break
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#next-notebook">
     Next Notebook:
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Unit 06 More Statistics: Comparing Distributions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Unit 06 More Statistics: Comparing Distributions
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-objectives">
     Learning Objectives
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table-of-contents">
     Table of Contents
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#further-reading-for-this-topic">
     Further reading for this topic
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#link-to-documentation">
     Link to documentation:
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#loading-files">
       Loading files
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#statistics">
       Statistics
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#which-method-should-i-use-for-reading-a-data-file">
     1. Which method should I use for reading a data file?
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#inspecting-the-file">
       1.1 Inspecting the file
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reading-a-file-with-numpy">
       1.2 Reading a file with NumPy
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reading-a-file-with-pandas">
       1.3 Reading a file with Pandas
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reading-a-file-using-basic-python">
       1.4 Reading a file using basic Python
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tasks-1">
     Tasks 1
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-recap">
   2. Plotting Recap
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-your-understanding-of-plotting-data">
     Test your understanding of plotting data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-to-plot-data">
       How to plot data?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-do-you-add-axis-labels-correctly">
       How do you add axis labels correctly?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-do-you-plot-data-using-a-logarithmic-x-axis-you-have-not-been-taught-this-try-and-figure-it-out">
       How do you plot data using a logarithmic x-axis (you have not been taught this, try and figure it out)
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#additional-practice-material">
       Additional practice material:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#handling-datasets-and-statistics">
     3. Handling datasets and statistics
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#working-with-measurement-data">
       3.1. Working with measurement data
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#the-population-mean-of-a-dataset-gives-you-the-average-value-by-summing-all-datapoints-and-dividing-by-the-number-of-data-points">
         The population mean of a dataset gives you the average value by summing all datapoints and dividing by the number of data points
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tasks">
     Tasks
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-do-i-know-if-two-distributions-are-the-same">
     4. How do I know if two distributions are the same?
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-normal-or-gaussian-distribution">
       4.1 The Normal or Gaussian distribution
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#generating-n-data-points-according-to-a-normal-distribution-in-python">
       Generating N data points according to a normal distribution in Python
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Tasks
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#comparing-two-distributions">
       4.2 Comparing two distributions
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#comparing-the-distribution-of-ph-between-red-and-white-wines">
         Comparing the distribution of pH between red and white wines
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#a-boxplot-can-graphically-show-the-locality-spread-and-distribution-of-the-data">
       A boxplot can graphically show the locality, spread and distribution of the data
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#let-s-plot-the-ph-data-as-a-boxplot">
         Let’s plot the pH data as a boxplot
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#these-numbers-look-quite-similar-can-we-statistically-say-if-they-come-from-a-different-underlying-distribution">
         These numbers look quite similar. Can we statistically say if they come from a different underlying distribution?
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-student-s-t-test">
       4.3 The Student’s t-test
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#when-to-use-a-t-test">
         When to use a t-test?
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#performing-a-t-test">
         Performing a t-test
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#pooled-standard-deviations-of-a-dataset">
         Pooled standard deviations of a dataset
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#what-does-the-calculated-t-value-mean">
         What does the calculated t-value mean?
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#the-null-hypothesis-and-tabulated-data">
         The Null hypothesis and tabulated data
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#performing-a-two-sample-t-test">
         Performing a two sample t-test
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#hypothesis-reminder">
         Hypothesis reminder:
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Tasks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#break">
   Break
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#next-notebook">
     Next Notebook:
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="unit-06-more-statistics-comparing-distributions">
<h1>Unit 06 More Statistics: Comparing Distributions<a class="headerlink" href="#unit-06-more-statistics-comparing-distributions" title="Permalink to this headline">#</a></h1>
<p><a rel="license" href="https://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://licensebuttons.net/l/by/4.0/88x31.png" title='This work is licensed under a Creative Commons Attribution 4.0 International License.' align="right"/></a></p>
<p>Author: Dr Antonia Mey<br />
Email: <a class="reference external" href="mailto:antonia&#46;mey&#37;&#52;&#48;ed&#46;ac&#46;uk">antonia<span>&#46;</span>mey<span>&#64;</span>ed<span>&#46;</span>ac<span>&#46;</span>uk</a></p>
<section id="learning-objectives">
<h2>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Be confident in computing statistical properties of a dataset</p></li>
<li><p>Know how to plot a histogram and box-plot</p></li>
<li><p>Use the Student’s t-test in Python to compare datasets</p></li>
<li><p>Recap of how to read data</p></li>
<li><p>Recap of how to plot basic data</p></li>
</ul>
</section>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p><a class="reference external" href="#reading">Summary of how to Read Data Files</a><br />
1.1 <a class="reference external" href="#head">Inspecting files</a><br />
1.2 <a class="reference external" href="#numpy">Reading Files with NumPy</a><br />
1.3 <a class="reference external" href="#pandas">Reading Files with Pandas</a><br />
1.4 <a class="reference external" href="#basic">Basic Reading with Python</a><br />
1.5 <a class="reference external" href="#tasks_1">Tasks</a></p></li>
<li><p><a class="reference external" href="#understanding">Plotting Recap</a></p></li>
<li><p><a class="reference external" href="#dataset">Handling Datasets and Statistics</a><br />
3.1 <a class="reference external" href="#data">Working with Measurement Data</a><br />
3.2 <a class="reference external" href="#tasks2">Tasks</a></p></li>
<li><p><a class="reference external" href="#stats">Comparing two Distributions</a><br />
4.1 <a class="reference external" href="#Gauss">The Gauss Distribution</a><br />
4.2 <a class="reference external" href="#box-plot">Box Plots</a><br />
4.3 <a class="reference external" href="#test">Student’s t-test</a><br />
4.4 <a class="reference external" href="#tasks3">Tasks</a></p></li>
</ol>
</section>
<section id="further-reading-for-this-topic">
<h2>Further reading for this topic<a class="headerlink" href="#further-reading-for-this-topic" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>More exhaustive reading on statistics: <a class="reference external" href="https://philschatz.com/statistics-book/contents/m46925.html">https://philschatz.com/statistics-book/contents/m46925.html</a></p></li>
</ul>
</section>
<section id="link-to-documentation">
<h2>Link to documentation:<a class="headerlink" href="#link-to-documentation" title="Permalink to this headline">#</a></h2>
<section id="loading-files">
<h3>Loading files<a class="headerlink" href="#loading-files" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.loadtxt.html">np.loadtxt()</a></p></li>
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.genfromtxt.html">np.genfromtxt()</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html">pd.read_csv()</a></p></li>
</ul>
</section>
<section id="statistics">
<h3>Statistics<a class="headerlink" href="#statistics" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.mean.html">np.mean</a></p></li>
<li><p><span class="xref myst">np.median</span></p></li>
<li><p><span class="xref myst">np.std</span></p></li>
</ul>
<p><strong><span style="color:black">Jupyter Cheat Sheet</span></strong></p>
<ul class="simple">
<li><p>To run the currently highlighted cell and move focus to the next cell, hold <kbd>⇧ Shift</kbd> and press <kbd>⏎ Enter</kbd>;</p></li>
<li><p>To run the currently highlighted cell and keep focus in the same cell, hold <kbd>⇧ Ctrl</kbd> and press <kbd>⏎ Enter</kbd>;</p></li>
<li><p>To get help for a specific function, place the cursor within the function’s brackets, hold <kbd>⇧ Shift</kbd>, and press <kbd>⇥ Tab</kbd>;</p></li>
</ul>
<div class="alert alert-danger"><b>
⚠️ Execute the cell below! It will allow you to run the notebook properly! ⚠️
</b></div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;../&#39;</span><span class="p">))</span>
<span class="kn">from</span> <span class="nn">helper_functions.mentimeter</span> <span class="kn">import</span> <span class="n">Mentimeter</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="which-method-should-i-use-for-reading-a-data-file">
<h2>1. Which method should I use for reading a data file?<a class="headerlink" href="#which-method-should-i-use-for-reading-a-data-file" title="Permalink to this headline">#</a></h2>
<p><a id='reading'></a></p>
<p>In Python there are many different was to read a file and multiple methods will work for a file. In the following is a quick overview of the different methods you have encountered so far and how to decide which is the best method to use for a given file you are working with.</p>
<div class="alert alert-info"><b>
⚠️ Note: Reading a file can also be called parsing a file ⚠️
</b></div><section id="inspecting-the-file">
<h3>1.1 Inspecting the file<a class="headerlink" href="#inspecting-the-file" title="Permalink to this headline">#</a></h3>
<p><a id='head'></a></p>
<ul class="simple">
<li><p>The first step is to look at the content of the file before you try and read it.</p></li>
<li><p>You can do so by opening the file with a text editor.</p></li>
<li><p>Some files may be large, so using something like <code class="docutils literal notranslate"><span class="pre">!head</span></code> maybe better</p></li>
</ul>
<p><strong><code>head</code></strong>:</p>
<ul class="simple">
<li><p>Gives you the first 10 lines of your file.</p></li>
<li><p>It is a Linux command that will work in a Jupyter notbeook if you use <code class="docutils literal notranslate"><span class="pre">!</span></code> before this command.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>head<span class="w"> </span>data/example_1.mol
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C3H6O
APtclcactv06051922463D 0   0.00000     0.00000
 
 10  9  0  0  0  0  0  0  0  0999 V2000
    1.3051    0.6772    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.0000   -0.0763   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -1.3051    0.6772   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -0.0000   -1.2839   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0
    1.1059    1.7488   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
    1.8767    0.4138    0.8900 H   0  0  0  0  0  0  0  0  0  0  0  0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>head<span class="w"> </span>data/example_2.smi
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cccccc
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>head<span class="w"> </span>data/example_3.csv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Date,Co measured in V ngm-3
2021-09-15,0.087
2021-09-16,0.109
2021-09-17,0.099
2021-09-18,0.077
2021-09-19,0.123
2021-09-20,0.127
2021-09-21,0.093
2021-09-22,0.079
2021-09-23,0.105
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>head<span class="w"> </span>data/example_4.csv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>concentration,volume
0.1,1.0
0.2,1.1
0.3,1.5
0.4,1.7
0.6,1.8
0.8,1.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="reading-a-file-with-numpy">
<h3>1.2 Reading a file with NumPy<a class="headerlink" href="#reading-a-file-with-numpy" title="Permalink to this headline">#</a></h3>
<p><a id='numpy'></a>
Out of all the file examples <code class="docutils literal notranslate"><span class="pre">data/example_4.csv</span></code> will be the best for using numpy. It only contains numerical data and has a header that can be easily skipped.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;data/example_4.csv&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0.1 1. ]
 [0.2 1.1]
 [0.3 1.5]
 [0.4 1.7]
 [0.6 1.8]
 [0.8 1. ]]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">np.loadtxt()</span></code>, requires explicit information on which rows you want to skip, because they represent headers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.loadtxt()</span></code>, requires explicit information on the delimiter used in the file.</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">numPy</span></code> array is returned</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;data/example_4.csv&#39;</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[nan nan]
 [0.1 1. ]
 [0.2 1.1]
 [0.3 1.5]
 [0.4 1.7]
 [0.6 1.8]
 [0.8 1. ]]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">np.genfromtxt()</span></code> tries to be a bit cleverer and will generate also incomplete data.</p></li>
</ul>
</section>
<section id="reading-a-file-with-pandas">
<h3>1.3 Reading a file with Pandas<a class="headerlink" href="#reading-a-file-with-pandas" title="Permalink to this headline">#</a></h3>
<p><a id='pandas'></a></p>
<p><code class="docutils literal notranslate"><span class="pre">data/example_3.csv</span></code> is a good example to use with Pandas. This is because it uses a mixture of datatypes. You have a date in the first column and a floating point in the second column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/example_3.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           Date  Co measured in V ngm-3
0    2021-09-15                   0.087
1    2021-09-16                   0.109
2    2021-09-17                   0.099
3    2021-09-18                   0.077
4    2021-09-19                   0.123
..          ...                     ...
360  2022-09-10                   0.081
361  2022-09-11                   0.117
362  2022-09-12                   0.053
363  2022-09-13                   0.095
364  2022-09-14                     NaN

[365 rows x 2 columns]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> has many option to customise the reading of a file and can manage many exceptions by default. Reading the documentation here is your friend.</p></li>
<li><p>It returns a pandas data frame.</p></li>
</ul>
</section>
<section id="reading-a-file-using-basic-python">
<h3>1.4 Reading a file using basic Python<a class="headerlink" href="#reading-a-file-using-basic-python" title="Permalink to this headline">#</a></h3>
<p><a id='basic'></a>
Not all files are data files. A lot of chemistry files are quite complicated. In this case sometimes a file needs to be read ‘manually’. Or you need to find a suitable existing Python package that can help with reading typical chemistry files.</p>
<p>Examples of such files are <code class="docutils literal notranslate"><span class="pre">data/example_1.mol</span></code> and <code class="docutils literal notranslate"><span class="pre">data/example_2.smi</span></code>. The first one is a mol file and the second a smiles string. If you are unsure here is an example of how you can read these:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/example_2.smi&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;cccccc\n&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/example_1.mol&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;C3H6O\n&#39;, &#39;APtclcactv06051922463D 0   0.00000     0.00000\n&#39;, &#39; \n&#39;, &#39; 10  9  0  0  0  0  0  0  0  0999 V2000\n&#39;, &#39;    1.3051    0.6772    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;    0.0000   -0.0763   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;   -1.3051    0.6772   -0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;   -0.0000   -1.2839   -0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;    1.1059    1.7488   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;    1.8767    0.4138    0.8900 H   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;    1.8767    0.4138   -0.8900 H   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;   -1.1059    1.7488    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;   -1.8767    0.4138   -0.8900 H   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;   -1.8767    0.4138    0.8900 H   0  0  0  0  0  0  0  0  0  0  0  0\n&#39;, &#39;  1  2  1  0  0  0  0\n&#39;, &#39;  2  3  1  0  0  0  0\n&#39;, &#39;  2  4  2  0  0  0  0\n&#39;, &#39;  1  5  1  0  0  0  0\n&#39;, &#39;  1  6  1  0  0  0  0\n&#39;, &#39;  1  7  1  0  0  0  0\n&#39;, &#39;  3  8  1  0  0  0  0\n&#39;, &#39;  3  9  1  0  0  0  0\n&#39;, &#39;  3 10  1  0  0  0  0\n&#39;, &#39;M  END\n&#39;, &#39;\n&#39;, &#39;ADDITIONAL INFORMATION CAN BE ADDED HERE\n&#39;, &#39;$$$$\n&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span> <span class="c1"># strip removes end of line characters and split split things into arrays.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># now each line is an array of string elements</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[&#39;C3H6O&#39;], [&#39;APtclcactv06051922463D&#39;, &#39;0&#39;, &#39;0.00000&#39;, &#39;0.00000&#39;], [], [&#39;10&#39;, &#39;9&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0999&#39;, &#39;V2000&#39;], [&#39;1.3051&#39;, &#39;0.6772&#39;, &#39;0.0000&#39;, &#39;C&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;0.0000&#39;, &#39;-0.0763&#39;, &#39;-0.0000&#39;, &#39;C&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;-1.3051&#39;, &#39;0.6772&#39;, &#39;-0.0000&#39;, &#39;C&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;-0.0000&#39;, &#39;-1.2839&#39;, &#39;-0.0000&#39;, &#39;O&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;1.1059&#39;, &#39;1.7488&#39;, &#39;-0.0000&#39;, &#39;H&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;1.8767&#39;, &#39;0.4138&#39;, &#39;0.8900&#39;, &#39;H&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;1.8767&#39;, &#39;0.4138&#39;, &#39;-0.8900&#39;, &#39;H&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;-1.1059&#39;, &#39;1.7488&#39;, &#39;0.0000&#39;, &#39;H&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;-1.8767&#39;, &#39;0.4138&#39;, &#39;-0.8900&#39;, &#39;H&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;-1.8767&#39;, &#39;0.4138&#39;, &#39;0.8900&#39;, &#39;H&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;1&#39;, &#39;2&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;2&#39;, &#39;3&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;2&#39;, &#39;4&#39;, &#39;2&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;1&#39;, &#39;5&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;1&#39;, &#39;6&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;1&#39;, &#39;7&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;3&#39;, &#39;8&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;3&#39;, &#39;9&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;3&#39;, &#39;10&#39;, &#39;1&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;M&#39;, &#39;END&#39;], [], [&#39;ADDITIONAL&#39;, &#39;INFORMATION&#39;, &#39;CAN&#39;, &#39;BE&#39;, &#39;ADDED&#39;, &#39;HERE&#39;], [&#39;$$$$&#39;]]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="tasks-1">
<h2>Tasks 1<a class="headerlink" href="#tasks-1" title="Permalink to this headline">#</a></h2>
<p><a id='tasks_1'></a></p>
<div class="alert alert-success">
<b>Task 1.1: Inspecting a file</b>
<p>Look at the file: <code class="docutils literal notranslate"><span class="pre">data/GC2_stage1_Free_Energy_Set_1.csv</span></code></p>
<ul class="simple">
<li><p>What method is best for reading this file?</p></li>
<li><p>Does it have a delimiter? If so what is it?</p></li>
</ul>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># FIXME</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<p><code>!head data/GC2_stage1_Free_Energy_Set_1.csv</code></p>
<p>The best method would be pandas as the columns are a mix of strings and numerica data
The delimiter is a comma.</p>
<deltails><div class="alert alert-success">
<b>Task 1.2: Choosing how to read a file</b>
<p>Read the file <code class="docutils literal notranslate"><span class="pre">data/GC2_stage1_Free_Energy_Set_1.csv</span></code> with the best method for reading it from task 1.1. Could you still read it using a different method?</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># FIXME</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/GC2_stage1_Free_Energy_Set_1.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># You could use np.genfromtext, but this makes it more complicated. </span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;data/GC2_stage1_Free_Energy_Set_1.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># the first column will be garbage because it is the receiptID which is a string</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:])</span> <span class="c1"># only distplay from second column (remember that python starts counting from 0!)</span>
</pre></div>
</div>
<deltails><div class="alert alert-info"><b>Key points on how to read data files</b>   
<ul class="simple">
<li><p>Check the content of your file using e.g. <code>!head</code>, or by opening the file using a text editor</p></li>
<li><p><code>np.loadtxt(‘filename’)</code>, or <code>np.genfromtxt(‘filename’)</code></p>
<ul>
<li><p>If the file contain a header, but otherwise numerical values that are separated by a delimiter</p></li>
<li><p>You can skip the header by using <code>skiprows = number of rows</code></p></li>
<li><p>You can specify a delimiter with <code>delimiter=’,’</code></p></li>
</ul>
</li>
<li><p><code>pd.read_csv(‘filename’)</code></p>
<ul>
<li><p>Use this if you have tabular data, such as you would find in excel with a header row that you want to use as information</p></li>
<li><p>The data is a mixture of numerical and other datatypes</p></li>
<li><p>There is data missing, managing <code>NaN</code> with pandas is much easier.</p></li>
</ul>
</li>
<li><p><code> f=open(‘filename’, ‘r’) </code></p>
<ul>
<li><p>If the file seems quite unstructured you may need to clean the data manually then use a generic file reader and read the file line by line.</p></li>
<li><p>You will need to use tools such as <code>line.strip()</code> or <code>line.split(’ ‘)</code> to clean the data.</p></li>
</ul>
</li>
<li><p>Reading a file can also be referred to as <b>parsing</b> a file.</p></li>
</ul>
</div></section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="plotting-recap">
<h1>2. Plotting Recap<a class="headerlink" href="#plotting-recap" title="Permalink to this headline">#</a></h1>
<p><a id='understanding'></a></p>
<section id="test-your-understanding-of-plotting-data">
<h2>Test your understanding of plotting data<a class="headerlink" href="#test-your-understanding-of-plotting-data" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># generating some data for plotting, use x and y to test things out</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="how-to-plot-data">
<h3>How to plot data?<a class="headerlink" href="#how-to-plot-data" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use this cell to try and plot x and y so you can answer the question below</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mentimeter</span><span class="p">(</span><span class="n">vote</span> <span class="o">=</span> <span class="s1">&#39;https://www.menti.com/aln82n9hefth&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style='width:100%; height:40vh;'> <iframe src=https://www.menti.com/aln82n9hefth height=100% width=70%></iframe> </div></div></div>
</div>
</section>
<section id="how-do-you-add-axis-labels-correctly">
<h3>How do you add axis labels correctly?<a class="headerlink" href="#how-do-you-add-axis-labels-correctly" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># testing adding axis labels</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mentimeter</span><span class="p">(</span><span class="n">vote</span> <span class="o">=</span> <span class="s1">&#39;https://www.menti.com/alyo5kw8ip4p&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style='width:100%; height:40vh;'> <iframe src=https://www.menti.com/alyo5kw8ip4p height=100% width=70%></iframe> </div></div></div>
</div>
</section>
<section id="how-do-you-plot-data-using-a-logarithmic-x-axis-you-have-not-been-taught-this-try-and-figure-it-out">
<h3>How do you plot data using a logarithmic x-axis (you have not been taught this, try and figure it out)<a class="headerlink" href="#how-do-you-plot-data-using-a-logarithmic-x-axis-you-have-not-been-taught-this-try-and-figure-it-out" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test showing axis in logarithmic scale</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mentimeter</span><span class="p">(</span><span class="n">vote</span> <span class="o">=</span> <span class="s1">&#39;https://www.menti.com/algxbq487k4b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style='width:100%; height:40vh;'> <iframe src=https://www.menti.com/algxbq487k4b height=100% width=70%></iframe> </div></div></div>
</div>
</section>
<section id="additional-practice-material">
<h3>Additional practice material:<a class="headerlink" href="#additional-practice-material" title="Permalink to this headline">#</a></h3>
<p>If you do not feel confident enough with plotting and loading data yet, you can practice a little with <a class="reference internal" href="Extra_practice.html"><span class="doc std std-doc">this</span></a> notebook after today’s session <strong>in your own time</strong>.</p>
</section>
</section>
<section id="handling-datasets-and-statistics">
<h2>3. Handling datasets and statistics<a class="headerlink" href="#handling-datasets-and-statistics" title="Permalink to this headline">#</a></h2>
<p><a id='dataset'></a></p>
<section id="working-with-measurement-data">
<h3>3.1. Working with measurement data<a class="headerlink" href="#working-with-measurement-data" title="Permalink to this headline">#</a></h3>
<p><a id='data'></a>
The file <code class="docutils literal notranslate"><span class="pre">data/air_quality.csv</span></code> contains measurements of the concentration of Cobalt in the air in Westminster taken in the last year. We want to look at the <code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">median</span></code>, and <code class="docutils literal notranslate"><span class="pre">standard</span> <span class="pre">deviation</span></code> of this data set through a series of short tasks.</p>
<section id="the-population-mean-of-a-dataset-gives-you-the-average-value-by-summing-all-datapoints-and-dividing-by-the-number-of-data-points">
<h4>The population mean of a dataset gives you the average value by summing all datapoints and dividing by the number of data points<a class="headerlink" href="#the-population-mean-of-a-dataset-gives-you-the-average-value-by-summing-all-datapoints-and-dividing-by-the-number-of-data-points" title="Permalink to this headline">#</a></h4>
<p>\begin{equation}
\mu = \frac{1}{N} \sum_i^N x_i ,
\end{equation}
where <span class="math notranslate nohighlight">\(N\)</span> is a number of samples and <span class="math notranslate nohighlight">\(x_i\)</span> is the ith sample in a dataset <span class="math notranslate nohighlight">\(X\)</span>. In a measurement, as <span class="math notranslate nohighlight">\(N\)</span> increases the mean becomes closer to the ‘true’ value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mu</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>or as a <code class="docutils literal notranslate"><span class="pre">np.mean(x)</span></code>.</p>
<div class="alert alert-info"><b>Reminder:</b>
The median is a middle value separating the greater and lesser halves of a data set and is computed on the elements of a sorted dataset</div>
<p>For a dataset <span class="math notranslate nohighlight">\(X\)</span> of <span class="math notranslate nohighlight">\(N\)</span> elements ordered from smallest to greatest the median is given by:</p>
<p>$<span class="math notranslate nohighlight">\(\mathrm{median}(X) = x_{(N+1)/2}\)</span><span class="math notranslate nohighlight">\( if \)</span>N$ is odd and</p>
<p>$<span class="math notranslate nohighlight">\(\mathrm{median}(X) = \frac{x_{(N/2)}+x_{(N/2+1)}}{2}\)</span><span class="math notranslate nohighlight">\( if \)</span>N$ is even.</p>
<div class="alert alert-info">
⚠️ You can use <code>np.median(x)</code> to compute the median with numpy. 
</div><div class="alert alert-info"><b>Reminder:</b>The population standard deviation (STD), $\sigma$ quantifies how much the numbers in a dataset deviate from the mean, $\mu$</div>
Mathematically this can be expressed as:
\begin{equation}
\sigma = \sqrt{\frac{1}{N}\sum_{i=1}^N(x_i-\mu)^2}.
\end{equation}
And using Python code you can write it as:
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sigma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span> <span class="p">(</span> <span class="n">x</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
<div class="alert alert-info">
⚠️ You can also simply use <code>np.std(x)</code> to compute the standard deviation with numpy. 
</div></section>
</section>
</section>
<section id="tasks">
<h2>Tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">#</a></h2>
<p><a id='tasks2'></a></p>
<div class="alert alert-success">
<b>Task 3.1: Compute statistics from an air quality measurement dataset:</b>
<p>Read the file <code>data/air_quality.csv</code> and remove the <code>NaN</code> measurement points and compute the mean, median and standard deviation of the dataset.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/air_quality.csv&#39;</span><span class="p">)</span>
<span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Co measured in V ngm-3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
<span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Co measured in V ngm-3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
<span class="n">median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Co measured in V ngm-3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The mean Co concentration is </span><span class="si">{</span><span class="n">mean</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> V ngm-3, the median Co concentration is </span><span class="si">{</span><span class="n">median</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> V ngm-3, and the standard deviation is </span><span class="si">{</span><span class="n">std</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2"> V ngm-3.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</details><div class="alert alert-success">
<b>Task 3.2: Plot a distribution using a histogram of the data:</b>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Co measured in V ngm-3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Co V ngm$^{-3}$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
</pre></div>
</div>
</details><div class="alert alert-success">
<b>Task 3.3: What is the difference between standard deviation, standard error, and confidence interval?</b>
</div>
<p>Use Google if you are unsure and give an answer in markdown</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<ul class="simple">
<li><p>Standard deviation (STD) measures the dispersion of a dataset relative to its mean.</p></li>
<li><p>STD is used frequently in statistics</p></li>
<li><p>The standard error of the mean (SEM) measures how much discrepancy is likely in a sample’s mean compared with the population mean.</p></li>
<li><p>The SEM takes the STD and divides it by the square root of the sample size.</p></li>
<li><p>The SEM will always be smaller than the SD.</p></li>
</ul>
</details></section>
<section id="how-do-i-know-if-two-distributions-are-the-same">
<h2>4. How do I know if two distributions are the same?<a class="headerlink" href="#how-do-i-know-if-two-distributions-are-the-same" title="Permalink to this headline">#</a></h2>
<p><a id='stats'></a></p>
<ul class="simple">
<li><p>Plotting a histogram of the data tells you something about the underlying distribution of the data.</p></li>
<li><p>There are many different types of distributions, here are some examples:
<img src="images/distributions.png" width="700"></p></li>
</ul>
<details><summary {style='color:green;font-weight:bold'}> Click here to see the code used to generate these plots. </summary>
<p>Please note that you would not be expected to generate this. We are using libraries here we do not teach (seaborn and advanced plotting library) and lambda functions, a concept that is an advanced programming concept.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s2">&quot;paper&quot;</span><span class="p">,</span> <span class="n">font_scale</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> 
<span class="c1">#make this example reproducible</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">#create data</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>

<span class="c1">#create normal distribution histogram</span>
<span class="c1">#sns.displot(x)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">line_kws</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lw&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;azure&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">aspect</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100000</span><span class="p">),</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">line_kws</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lw&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;azure&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">aspect</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">10000</span><span class="p">),</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">line_kws</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lw&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;azure&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">aspect</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">)</span>
<span class="n">sample_bimodal</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;feature1&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
                   <span class="s1">&#39;feature2&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
                   <span class="s1">&#39;feature3&#39;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
                  <span class="p">})</span>
<span class="n">sample_bimodal</span><span class="p">[</span><span class="s1">&#39;combined&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sample_bimodal</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">feature1</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">feature3</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="k">else</span> <span class="n">x</span><span class="o">.</span><span class="n">feature2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">sample_bimodal</span><span class="p">[</span><span class="s1">&#39;combined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">line_kws</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lw&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;azure&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">aspect</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">)</span>
</pre></div>
</div>
</details><section id="the-normal-or-gaussian-distribution">
<h3>4.1 The Normal or Gaussian distribution<a class="headerlink" href="#the-normal-or-gaussian-distribution" title="Permalink to this headline">#</a></h3>
<p><a id='Gauss'></a></p>
<p>The <strong>normal distribution</strong> is a well-behaved symmetric distribution. On a normal distribution the values that are less than 1 <span class="math notranslate nohighlight">\(\sigma\)</span> away from the mean, <span class="math notranslate nohighlight">\(\mu\)</span>, will account for the 68.27% of the dataset. This means the <strong>confidence interval</strong> is equal to the standard deviation of 1 <span class="math notranslate nohighlight">\(\sigma\)</span> (dark blue shading).
<img src="images/NormalDist.png" width="500"></p>
<p>Mathematically, you can write down the probability density function of a normal distribution as:</p>
<div class="math notranslate nohighlight">
\[ f(x) = \frac{1}{\sigma\sqrt{2\pi}}\exp\big[-\frac{1}{2}\big(\frac{x-\mu}{\sigma}\Big)^2\big]. \]</div>
<p>This looks scarier than it is, as you already know what <span class="math notranslate nohighlight">\(\mu\)</span> and <span class="math notranslate nohighlight">\(\sigma\)</span> are, namely the mean and standard deviation respectively. Writing down the probability density function in this way assumes a continuous set of values of <span class="math notranslate nohighlight">\(x\)</span> and not necessarily a dataset containing <span class="math notranslate nohighlight">\(N\)</span> values. A quick way of notating that a random variable <span class="math notranslate nohighlight">\(X\)</span>, such as one measured in an experiment, is normally distributed with mean <span class="math notranslate nohighlight">\(\mu\)</span> and standard deviation <span class="math notranslate nohighlight">\(\sigma\)</span> is:</p>
<div class="math notranslate nohighlight">
\[ X\sim \mathcal{N}(\mu,\sigma^2).\]</div>
</section>
<section id="generating-n-data-points-according-to-a-normal-distribution-in-python">
<h3>Generating N data points according to a normal distribution in Python<a class="headerlink" href="#generating-n-data-points-according-to-a-normal-distribution-in-python" title="Permalink to this headline">#</a></h3>
<p>You can use the <code>numpy</code> library to generate a normal distribution as follows</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># mean</span>
<span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1"># standard deviation</span>
<span class="n">samples</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># number of samples</span>
<span class="n">distribution</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">samples</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">distribution</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ 0.13593229 -0.06296052  0.09404575  0.13849881  0.03339527 -0.06174426
 -0.02799973  0.00986606  0.226267   -0.01912147]
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3>Tasks<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<p><a id='tasks3'></a></p>
<div class="alert alert-success">
<b>Task 4.1.1: Can you think of examples of normally distributed data?</b>
<p>Use the Mentimeter wordcloud below to collect some ideas.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task: </span>
<span class="n">Mentimeter</span><span class="p">(</span><span class="n">vote</span> <span class="o">=</span> <span class="s1">&#39;https://www.menti.com/ale4kausv31z&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style='width:100%; height:40vh;'> <iframe src=https://www.menti.com/ale4kausv31z height=100% width=70%></iframe> </div></div></div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<p>Examples are:
- Height
- Birth weight
- Reaction yields
- pipetting volume
- …</p>
</details><div class="alert alert-success">
<b>Task 4.1.2: Do you think pollutants that are measured to assess air quality are distributed according to a normal distribution in general?</b>
<p>Use the Mentimeter quiz to give us an answer.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task :</span>
<span class="n">Mentimeter</span><span class="p">(</span><span class="n">vote</span> <span class="o">=</span> <span class="s1">&#39;https://www.menti.com/aly6defkurtc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style='width:100%; height:40vh;'> <iframe src=https://www.menti.com/aly6defkurtc height=100% width=70%></iframe> </div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Answers</span>
<span class="n">Mentimeter</span><span class="p">(</span><span class="n">result</span> <span class="o">=</span><span class="s1">&#39;https://www.mentimeter.com/app/presentation/15318fd2a07378525c49782f62f9c8b8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style='width:100%; height:40vh;'> <iframe src=https://www.mentimeter.com/app/presentation/15318fd2a07378525c49782f62f9c8b8 height=100% width=90%></iframe> </div></div></div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<p>No, this seems like a good example. Ideally you want pollutants to be zero, therefore the peak should be at zero and you cannot have negative values of pollutants.</p>
</details><div class="alert alert-success">
<b>Task 4.1.3: Exploring Normal distributions</b>
<p>Generate the following distributions, plot them, and discuss what you see:</p>
<ul class="simple">
<li><p>Normal distribution with <span class="math notranslate nohighlight">\(\mu\)</span> = 0 and <span class="math notranslate nohighlight">\(\sigma\)</span>=2</p></li>
<li><p>Normal distribution with <span class="math notranslate nohighlight">\(\mu\)</span> = 3 and <span class="math notranslate nohighlight">\(\sigma\)</span> = 0.2</p></li>
<li><p>What happens if you change the number of samples? Try 10, 100 or even 10000</p></li>
<li><p>Are the mean and standard deviation the same as the input?</p></li>
<li><p>Are the mean and median the same?</p></li>
</ul>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Comparing two distributions</span>
<span class="n">distribution1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">distribution2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">distribution1</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">distribution2</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>


<span class="c1"># Distributions with many samples</span>
<span class="n">dist_low_sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">dist_med_sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">dist_high_sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;low sample: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;mean:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dist_low_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, median:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dist_low_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, standard deviation:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dist_low_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;medium sample: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;mean:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dist_med_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, median:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dist_med_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, standard deviation:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dist_med_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;high sample: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;mean:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dist_high_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, median:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dist_high_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, standard deviation:</span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dist_high_sample</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    
    
</pre></div>
</div>
</details><div class="alert alert-warning">
<b>Advanced Task: Write your own function that generates the probability density function of a normal distribution:</b>
<p>Write a function called <code>normal_distribution(x, height, mean, sigma)</code> that returns a normal distribution for a set of positions <code>x</code>. Generate data for your distribution using <code>np.random.choice</code> and plot the data.</p>
<p>Here are some suggestions for the input data:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linsapce</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">mean</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sigma</span> <span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>    <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Advanced task: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">normal_distribution</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">height</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">sigma</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">height</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">mean</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sigma</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> 
<span class="n">p</span> <span class="o">=</span> <span class="n">normal_distribution</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">parameters</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">/</span><span class="n">p</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">samples</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="s1">&#39;ro:&#39;</span><span class="p">)</span>
</pre></div>
</div>
</details></section>
<section id="comparing-two-distributions">
<h3>4.2 Comparing two distributions<a class="headerlink" href="#comparing-two-distributions" title="Permalink to this headline">#</a></h3>
<p><a id='box-plots'></a>
Let us look at an example dataset of red and white wine to see if we can compare distributions easily.</p>
<p>You will be able to find the datasets in <code class="docutils literal notranslate"><span class="pre">data/winequality-red.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">data/winequality-white.csv</span></code>. Both datasets have been taken from <a class="reference external" href="http://www3.dsi.uminho.pt/pcortez/wine/winequality.zip">here</a> and were first featured in this <a class="reference external" href="https://www.sciencedirect.com/science/article/abs/pii/S0167923609001377?via%3Dihub">publication</a>.</p>
<div class="alert alert-info"><b>
Plotting a histogram of a dataset gives some information, but there may be better ways of plotting data.</b>
You can plot histograms of two distributions and judge by eye if they overlap:<p>Let’s load the two datasets and compare the pH of red and white wines.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Loading the data</span>
<span class="n">df_red</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/winequality-red.csv&quot;</span><span class="p">)</span>
<span class="n">df_whites</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/winequality-white.csv&quot;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s have a look at the column headings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_whites</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;fixed acidity&#39;, &#39;volatile acidity&#39;, &#39;citric acid&#39;, &#39;residual sugar&#39;,
       &#39;chlorides&#39;, &#39;free sulfur dioxide&#39;, &#39;total sulfur dioxide&#39;, &#39;density&#39;,
       &#39;pH&#39;, &#39;sulphates&#39;, &#39;alcohol&#39;, &#39;quality&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>And double check that there is no data missing in the dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_red</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_whites</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
False
</pre></div>
</div>
</div>
</div>
<section id="comparing-the-distribution-of-ph-between-red-and-white-wines">
<h4>Comparing the distribution of pH between red and white wines<a class="headerlink" href="#comparing-the-distribution-of-ph-between-red-and-white-wines" title="Permalink to this headline">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pH_whites</span> <span class="o">=</span> <span class="n">df_whites</span><span class="p">[</span><span class="s1">&#39;pH&#39;</span><span class="p">]</span>
<span class="n">pH_reds</span> <span class="o">=</span> <span class="n">df_red</span><span class="p">[</span><span class="s1">&#39;pH&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">pH_whites</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">pH_reds</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;pH&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Unit_06_statistics_I_88_0.png" src="../_images/Unit_06_statistics_I_88_0.png" />
</div>
</div>
<p>The two distributions look different, but is there a better way at looking them?</p>
</section>
</section>
<section id="a-boxplot-can-graphically-show-the-locality-spread-and-distribution-of-the-data">
<h3>A boxplot can graphically show the locality, spread and distribution of the data<a class="headerlink" href="#a-boxplot-can-graphically-show-the-locality-spread-and-distribution-of-the-data" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>A box plot lets you quickly examine multiple distributions graphically</p></li>
<li><p>It is great for comparing distributions</p></li>
<li><p>You don’t have to make a choice on number of bins</p></li>
<li><p>You can immediately see the median, 50% region of the data, quantiles, as well as outliers.</p></li>
<li><p>You can also display the mean and median giving you an idea how skewed the data is and whether assuming that data is normally distributed is a good assumption.</p></li>
</ul>
<img src="images/Boxplot_vs_PDF.png" width="500">
<p>By Jhguch at en.wikipedia, CC BY-SA 2.5, <a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=14524285">https://commons.wikimedia.org/w/index.php?curid=14524285</a></p>
<p>Here is an example of how the boxplot in matplotlib will look like:</p>
<section id="let-s-plot-the-ph-data-as-a-boxplot">
<h4>Let’s plot the pH data as a boxplot<a class="headerlink" href="#let-s-plot-the-ph-data-as-a-boxplot" title="Permalink to this headline">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">pH_whites</span><span class="p">,</span> <span class="n">pH_reds</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="c1"># in matplotlib you can use the boxplot function and set the show means to True</span>
<span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;pH whites&quot;</span><span class="p">,</span> <span class="s2">&quot;pH reds&quot;</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># the orange lines represent the median of the data and the green triangles the mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Unit_06_statistics_I_95_0.png" src="../_images/Unit_06_statistics_I_95_0.png" />
</div>
</div>
<p>From the boxplot we can see that the mean and median are quite similar. We could not see this on the distribution plot before. Now let’s look at the actual values for the means, medians and standard deviations?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The mean pH is </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">pH_whites</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, </span><span class="se">\</span>
<span class="s1">the median pH is </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">pH_whites</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, </span><span class="se">\</span>
<span class="s1">and the standard deviation in white wines is </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">pH_whites</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The mean pH is </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">pH_reds</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, </span><span class="se">\</span>
<span class="s1">the median pH is </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">pH_reds</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, </span><span class="se">\</span>
<span class="s1">and the standard deviation in red wines is </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">pH_reds</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The mean pH is 3.188, the median pH is 3.180, and the standard deviation in white wines is 0.151.
The mean pH is 3.311, the median pH is 3.310, and the standard deviation in red wines is 0.154.
</pre></div>
</div>
</div>
</div>
</section>
<section id="these-numbers-look-quite-similar-can-we-statistically-say-if-they-come-from-a-different-underlying-distribution">
<h4>These numbers look quite similar. Can we statistically say if they come from a different underlying distribution?<a class="headerlink" href="#these-numbers-look-quite-similar-can-we-statistically-say-if-they-come-from-a-different-underlying-distribution" title="Permalink to this headline">#</a></h4>
</section>
</section>
<section id="the-student-s-t-test">
<h3>4.3 The Student’s t-test<a class="headerlink" href="#the-student-s-t-test" title="Permalink to this headline">#</a></h3>
<p><a id='test'></a></p>
<section id="when-to-use-a-t-test">
<h4>When to use a t-test?<a class="headerlink" href="#when-to-use-a-t-test" title="Permalink to this headline">#</a></h4>
<p>A t-test is a parametric test of difference, meaning that the underlying data is as follows:</p>
<ol class="simple">
<li><p>Your samples of the data are independent.</p></li>
<li><p>They are approximately normally distributed.</p></li>
<li><p>Have a similar amount of variance.</p></li>
</ol>
<p>You can also only compare means of two groups. If want to compare multiple means not in a pairwise fashion there are <a class="reference external" href="https://www.statisticshowto.com/probability-and-statistics/hypothesis-testing/anova/wil">other tests</a>. In the same spirit, if the above assumptions do not fit, you can use a nonparametric test such as the <a class="reference external" href="https://www.statstest.com/wilcoxon-signed-rank-test/">Wilcoxon Signed Rank</a> test. A lot of these tests are implemented in Python.</p>
</section>
<section id="performing-a-t-test">
<h4>Performing a t-test<a class="headerlink" href="#performing-a-t-test" title="Permalink to this headline">#</a></h4>
<p>In a t-test you are estimating the <strong>true</strong> difference between two dataset means. This is done by using the ratio of the difference in dataset means over the pooled standard error of the two datasets. Mathematically you can write the student t-test as:</p>
<div class="math notranslate nohighlight">
\[t = \frac{\mu_1-\mu_2}{s_p\sqrt{\frac{2}{N}}} \]</div>
<p>As before <span class="math notranslate nohighlight">\(\mu_1\)</span> and <span class="math notranslate nohighlight">\(\mu_2\)</span> represent the means of the respective two datasets, <span class="math notranslate nohighlight">\(N_1\)</span>=<span class="math notranslate nohighlight">\(N_2\)</span>=<span class="math notranslate nohighlight">\(N\)</span> and are the number of samples and <span class="math notranslate nohighlight">\(s_p\)</span> is the pooled standard deviation of the datasets. There is a more general form with the two dataset having different sample sizes too!</p>
</section>
<section id="pooled-standard-deviations-of-a-dataset">
<h4>Pooled standard deviations of a dataset<a class="headerlink" href="#pooled-standard-deviations-of-a-dataset" title="Permalink to this headline">#</a></h4>
<p>The pooled standard deviation is a method for estimating a single standard deviation to represent all independent samples or groups in your study when they are assumed to come from populations with a common standard deviation. The pooled standard deviation is the average spread of all data points about their group mean (not the overall mean). It is a weighted average of each group’s standard deviation.</p>
<p>Mathematically you can write the pooled standard deviation as:</p>
<p><span class="math notranslate nohighlight">\(S_p = \sqrt{\frac{\sigma_1^2+\sigma_2^2}{2}}\)</span></p>
</section>
<section id="what-does-the-calculated-t-value-mean">
<h4>What does the calculated t-value mean?<a class="headerlink" href="#what-does-the-calculated-t-value-mean" title="Permalink to this headline">#</a></h4>
<p>A large t-value means that the difference between the means of the two datasets is greater than the pooled standard error, which means there is likely a significant difference between the two datasets.</p>
<p>Typically you would compare your t-value to tabulated t-values to decided if you accept the null hypothesis. Have a look here for more details: <a class="reference external" href="https://www.statology.org/here-is-how-to-find-the-p-value-from-the-t-distribution-table/">https://www.statology.org/here-is-how-to-find-the-p-value-from-the-t-distribution-table/</a></p>
</section>
<section id="the-null-hypothesis-and-tabulated-data">
<h4>The Null hypothesis and tabulated data<a class="headerlink" href="#the-null-hypothesis-and-tabulated-data" title="Permalink to this headline">#</a></h4>
<p>The hypothesis you are testing against, is that the difference in means between two datasets is 0.
When you perform a t-test with Python, you will get a p-value returned, giving you the probability of how likely is it to see this result by chance. The p-value is a proportion: if your p-value is 0.05, that means that 5% of the time you would see a test statistic at least as extreme as the one you found if the null hypothesis was true.</p>
<p>Let’s have a look at using the t-test for our wine dataset:</p>
</section>
<section id="performing-a-two-sample-t-test">
<h4>Performing a two sample t-test<a class="headerlink" href="#performing-a-two-sample-t-test" title="Permalink to this headline">#</a></h4>
<p>Previously we have seen that our data is approximately normally distributed. We also want to make sure that our ratio of variances of the two datasets is less than 4:1. So we start with that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ratio</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">pH_reds</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">pH_whites</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="c1">## Looks like we are good to go with our t-test</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0449080866390097
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We are using scipy stats library to peform the t-test</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="n">t_test_out</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">pH_reds</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span> <span class="n">pH_whites</span><span class="p">,</span> <span class="n">equal_var</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t_test_out</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">38</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># We are using scipy stats library to peform the t-test</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">t_test_out</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">pH_reds</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span> <span class="n">pH_whites</span><span class="p">,</span> <span class="n">equal_var</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="n">t_test_out</span><span class="p">)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;scipy&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="hypothesis-reminder">
<h4>Hypothesis reminder:<a class="headerlink" href="#hypothesis-reminder" title="Permalink to this headline">#</a></h4>
<p>H0 =&gt; <span class="math notranslate nohighlight">\(\mu_1\)</span> = <span class="math notranslate nohighlight">\(\mu_2\)</span> (population mean of dataset1 is equal to dataset2)</p>
<p>HA =&gt; <span class="math notranslate nohighlight">\(\mu_1 \ne \mu_2\)</span> (population mean of dataset1 is different from dataset2)</p>
<p>The p-value is smaller than alpha=0.05 means we <strong>can reject the null hypothesis (H0)</strong>. There is sufficient evidence that the mean pH of white wine is different to the mean pH of red wine in the dataset.</p>
</section>
</section>
</section>
<section id="id2">
<h2>Tasks<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<p><a id='tasks3'></a></p>
<div class="alert alert-success">
<b>Task 4.3.1: Compare the density of red and white wines</b>
<p>Compute the following:</p>
<ul class="simple">
<li><p>Histogram of the density</p></li>
<li><p>Boxplot of the density</p></li>
<li><p>After you are sure you can carry out a t-test, carry it out.</p></li>
<li><p>What happens if you only take every 200th data point? What does the null hypothesis of the t-test say?</p></li>
</ul>
 </div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task 1: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograms </span>
<span class="n">density_whites</span> <span class="o">=</span> <span class="n">df_whites</span><span class="p">[</span><span class="s1">&#39;density&#39;</span><span class="p">]</span>
<span class="n">density_reds</span> <span class="o">=</span> <span class="n">df_red</span><span class="p">[</span><span class="s1">&#39;density&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">density_whites</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">density_reds</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;density&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;counts&#39;</span><span class="p">)</span>
    
<span class="c1"># Box plots</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">density_whites</span><span class="p">,</span> <span class="n">density_reds</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># in matplotlib you can use the boxplot function and set the show means to True</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;density whites&quot;</span><span class="p">,</span> <span class="s2">&quot;density reds&quot;</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
<span class="c1"># t-testing</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">density_reds</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">density_whites</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;yes we can do a t-test&quot;</span><span class="p">)</span>
<span class="n">t_test</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">density_reds</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span> <span class="n">density_whites</span><span class="p">,</span> <span class="n">equal_var</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t_test</span><span class="p">)</span>
<span class="n">t_test_sub_sample</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">density_reds</span><span class="p">[::</span><span class="mi">200</span><span class="p">],</span> <span class="n">b</span><span class="o">=</span> <span class="n">density_whites</span><span class="p">[::</span><span class="mi">200</span><span class="p">],</span> <span class="n">equal_var</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t_test_sub_sample</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The two density distributions have two different means for the original dataset. When you subsample heavily the null hypothesis does not hold true anymore.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</details><div class="alert alert-success">
<b>Task 4.3.2: Compare the residual sugar of red and white wines</b>
<p>Compute the following:</p>
<ul class="simple">
<li><p>Histogram of the residual sugar</p></li>
<li><p>Boxplot of the residual sugar</p></li>
<li><p>Is the data suitable for a t-test? If so, carry out a t-test.</p></li>
</ul>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task 2: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
<details><summary {style='color:green;font-weight:bold'}> Click here to see solution to Task. </summary>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Histograms </span>
<span class="n">sugar_whites</span> <span class="o">=</span> <span class="n">df_whites</span><span class="p">[</span><span class="s1">&#39;residual sugar&#39;</span><span class="p">]</span>
<span class="n">sugar_reds</span> <span class="o">=</span> <span class="n">df_red</span><span class="p">[</span><span class="s1">&#39;residual sugar&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">sugar_whites</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">sugar_reds</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;residual sugar&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;counts&#39;</span><span class="p">)</span>

<span class="c1"># Box plots</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">sugar_whites</span><span class="p">,</span> <span class="n">sugar_reds</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">columns</span><span class="p">,</span> <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># in matplotlib you can use the boxplot function and set the show means to True</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;residual sugar whites&quot;</span><span class="p">,</span> <span class="s2">&quot;residual sugar reds&quot;</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># t-testing</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">sugar_reds</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">sugar_whites</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No we cannot do a t-test&quot;</span><span class="p">)</span>
</pre></div>
</div>
</details><div class="alert alert-warning">
<b>Advanced Task 4.3.3: Write a function that computes the t-value based on the formula given above</b>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Task 3: Test out the solution in this cell:</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="break">
<h1>Break<a class="headerlink" href="#break" title="Permalink to this headline">#</a></h1>
<img src="images/break.png" alt="drawing" width="200"><section id="next-notebook">
<h2>Next Notebook:<a class="headerlink" href="#next-notebook" title="Permalink to this headline">#</a></h2>
<p><a class="reference internal" href="Unit_06_molecular_geometries_II.html"><span class="doc std std-doc">Unit_06_molecular_geometries_II.ipynb</span></a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Unit_06"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../Unit_05/Unit_05_II_plotting.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Unit 05: Introduction to NumPy and Plotting, part II</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Unit_06_molecular_geometries_II.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Unit 06 An Introduction to Molecular Geometries</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Edinburgh Chemistry Teaching<br/>
  
      &copy; Copyright 2023.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>