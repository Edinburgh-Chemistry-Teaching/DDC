
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Unit 08 Applications to Chemistry I &#8212; Data-Driven Chemistry</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Unit 09: Applications II UV-Vis Spectroscopy" href="../Unit_09/Unit_09_applications_II_part_I.html" />
    <link rel="prev" title="Unit 07 Fitting Part II" href="../Unit_07/Unit_07_fitting_II.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data-Driven Chemistry</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../overview.html">
                    Welcome to Data-Driven Chemistry
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About Data-Driven Chemistry
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../book_intro.html">
   Data Driven Chemistry
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_01/Unit_01_problem_solving_I.html">
   Unit 01: Problem Solving I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_01/Unit_01_problem_solving_II.html">
   Unit 01: Problem Solving II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_02/Unit_02_variables_I.html">
   Unit 02: First steps in Python I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_02/Unit_02_variables_II.html">
   Unit 2: First steps in Python II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_03/Unit_03_loops_I.html">
   Unit 03: Loops, pandas and simple plotting I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_03/Unit_03_loops_II.html">
   Unit 03: Loops, pandas and simple plotting II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_04/Unit_04_functions_I.html">
   Unit 04: Functions I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_04/Unit_04_functions_II.html">
   Unit 04: Functions II
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Plotting and Statistics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_05/Unit_05_I_numerical_data.html">
   Unit 05: Introduction to NumPy and Plotting, part I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_05/Unit_05_II_plotting.html">
   Unit 05: Introduction to NumPy and Plotting, part II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_06/Unit_06_statistics_I.html">
   Unit 06 More Statistics: Comparing Distributions
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Molecular Geometries
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_06/Unit_06_molecular_geometries_II.html">
   Unit 06 An Introduction to Molecular Geometries
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Fitting Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_07/Unit_07_fitting_I.html">
   Unit 07 Fitting Part I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_07/Unit_07_fitting_II.html">
   Unit 07 Fitting Part II
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Applications of Python in Chemistry
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Unit 08 Applications to Chemistry I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_09/Unit_09_applications_II_part_I.html">
   Unit 09: Applications II UV-Vis Spectroscopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_09/Unit_09_applications_II_part_II.html">
   Unit 09: Applications II  Protein SAXS and simulation data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_10/Unit_10_NMR_application_student.html">
   Unit 10 - Analysing NMR Data from Start to Finish
   <a class="tocSkip">
   </a>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Unit_10/Unit_10_NMR_application_solution.html">
   Unit 10 - Analysing NMR Data from Start to Finish
   <a class="tocSkip">
   </a>
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/Edinburgh-Chemistry-Teaching/Data-driven-chemistry/main?urlpath=tree/Unit_08/Unit_08_Applications_I.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/Edinburgh-Chemistry-Teaching/Data-driven-chemistry"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/Edinburgh-Chemistry-Teaching/Data-driven-chemistry/issues/new?title=Issue%20on%20page%20%2FUnit_08/Unit_08_Applications_I.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/Unit_08/Unit_08_Applications_I.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Unit 08 Applications to Chemistry I
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-objectives">
     Learning Objectives
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table-of-contents">
     Table of Contents
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-1-real-mass-spectrometry-data-of-a-fun-molecule">
   Application 1: Real Mass Spectrometry data of a fun molecule
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualising-molecular-structure">
     1.1 Visualising Molecular Structure
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#finding-peaks-on-ms-data">
     1.2 Finding peaks on MS data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-2-radioactive-decay">
   Application 2: Radioactive Decay
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#theory-a-class-anchor-id-theory-a">
     1.2 Theory
     <a class="anchor" id="theory">
     </a>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#radiocarbon">
       Radiocarbon
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#radioactive-decay">
       Radioactive Decay
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simulating-radioactive-decay">
     2.2 Simulating Radioactive Decay
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fitting-radioactive-decay-a-class-anchor-id-task-halflife-a">
     2.3 Fitting radioactive decay
     <a class="anchor" id="Task_Halflife">
     </a>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-3-write-an-interactive-chemistry-quiz-application">
   Application 3: Write an Interactive Chemistry Quiz Application
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#components-of-a-good-quiz-application-a-class-anchor-id-whatis-a">
     3.1 Components of a Good Quiz Application
     <a class="anchor" id="whatis">
     </a>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#prerequisites-of-a-good-quiz-application">
       Prerequisites of a good Quiz application:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#making-a-quiz-a-class-anchor-id-structure-quiz-a">
     3.2 Making a Quiz
     <a class="anchor" id="structure_quiz">
     </a>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-1-ask-your-question">
       Step 1: Ask your Question
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-2-check-the-answer-against-some-data">
       Step 2:  Check the Answer against some Data
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-3-no-quiz-is-good-without-a-score">
       Step 3: no quiz is good without a score!
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-4-make-sure-the-quiz-is-not-infinite-and-users-can-exit">
       Step 4: Make Sure the Quiz is not infinite and users can exit
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-and-play-your-quiz-a-class-anchor-id-task-quiz-a">
     3.3 Write (and play) your Quiz
     <a class="anchor" id="Task_quiz">
     </a>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#give-us-feedback-please">
   Give us Feedback Please!
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Unit 08 Applications to Chemistry I</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Unit 08 Applications to Chemistry I
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-objectives">
     Learning Objectives
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table-of-contents">
     Table of Contents
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-1-real-mass-spectrometry-data-of-a-fun-molecule">
   Application 1: Real Mass Spectrometry data of a fun molecule
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualising-molecular-structure">
     1.1 Visualising Molecular Structure
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#finding-peaks-on-ms-data">
     1.2 Finding peaks on MS data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-2-radioactive-decay">
   Application 2: Radioactive Decay
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#theory-a-class-anchor-id-theory-a">
     1.2 Theory
     <a class="anchor" id="theory">
     </a>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#radiocarbon">
       Radiocarbon
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#radioactive-decay">
       Radioactive Decay
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simulating-radioactive-decay">
     2.2 Simulating Radioactive Decay
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fitting-radioactive-decay-a-class-anchor-id-task-halflife-a">
     2.3 Fitting radioactive decay
     <a class="anchor" id="Task_Halflife">
     </a>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-3-write-an-interactive-chemistry-quiz-application">
   Application 3: Write an Interactive Chemistry Quiz Application
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#components-of-a-good-quiz-application-a-class-anchor-id-whatis-a">
     3.1 Components of a Good Quiz Application
     <a class="anchor" id="whatis">
     </a>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#prerequisites-of-a-good-quiz-application">
       Prerequisites of a good Quiz application:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#making-a-quiz-a-class-anchor-id-structure-quiz-a">
     3.2 Making a Quiz
     <a class="anchor" id="structure_quiz">
     </a>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-1-ask-your-question">
       Step 1: Ask your Question
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-2-check-the-answer-against-some-data">
       Step 2:  Check the Answer against some Data
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-3-no-quiz-is-good-without-a-score">
       Step 3: no quiz is good without a score!
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#step-4-make-sure-the-quiz-is-not-infinite-and-users-can-exit">
       Step 4: Make Sure the Quiz is not infinite and users can exit
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-and-play-your-quiz-a-class-anchor-id-task-quiz-a">
     3.3 Write (and play) your Quiz
     <a class="anchor" id="Task_quiz">
     </a>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#give-us-feedback-please">
   Give us Feedback Please!
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="unit-08-applications-to-chemistry-i">
<h1>Unit 08 Applications to Chemistry I<a class="headerlink" href="#unit-08-applications-to-chemistry-i" title="Permalink to this headline">#</a></h1>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" title='This work is licensed under a Creative Commons Attribution 4.0 International License.' align="right"/></a></p>
<p>Authors:</p>
<ul class="simple">
<li><p>Dr Valentina Erastova</p></li>
<li><p>Dr Matteo Degiacomi</p></li>
<li><p>Hannah Pollak</p></li>
</ul>
<p>Email: <a class="reference external" href="mailto:valentina&#46;erastova&#37;&#52;&#48;ed&#46;ac&#46;uk">mailto:valentina<span>&#46;</span>erastova<span>&#64;</span>ed<span>&#46;</span>ac<span>&#46;</span>uk</a></p>
<section id="learning-objectives">
<h2>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permalink to this headline">#</a></h2>
<p>This is the first of two Units focussing on applying the learned material for chemistry-related problems. In this Unit you will:</p>
<ul class="simple">
<li><p>look at the <a class="reference external" href="#MSDATA">real mass spectrometry data</a> for some interesting molecules, visualise the structures, plot the data and find the peaks.</p></li>
<li><p>learn about carbon isotopes, their <a class="reference external" href="#RadDecay">stability and radioactive decay</a>, and how we can use it to calculate the age of a given sample.</p></li>
<li><p>make a <a class="reference external" href="#Quiz">Quiz</a>, that could even be helpful for you to learn periodic table.</p></li>
</ul>
</section>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p><a class="reference external" href="#MSDATA">Real Mass Spectrometry data of a fun molecule</a><br />
1.1 <a class="reference external" href="#molec_view">Visualising Molecular Structure</a><br />
1.2 <a class="reference external" href="#Task_Peaks">TASK 1 &amp; 2 - Finding Peaks</a></p></li>
<li><p><a class="reference external" href="#RadDecay">Radioactive Decay</a><br />
2.1 <a class="reference external" href="#theory">Theoretical background - radiocarbon</a><br />
2.2 <a class="reference external" href="#simulation">Exponential decay - Let’s run a simulation</a><br />
2.3 <a class="reference external" href="#Task_Halflife">TASK 3 - Finding the half-life from the decay data collection</a></p></li>
<li><p><a class="reference external" href="#Quiz">Write a Chemistry Quiz</a><br />
3.1 <a class="reference external" href="#whatis">What makes a good Quiz?</a><br />
3.2 <a class="reference external" href="#structure_quiz">Structure of a Quiz</a><br />
3.3 <a class="reference external" href="#Task_quiz">TASK 4 &amp; 5 - Write (and play) a Quiz</a></p></li>
</ol>
<p><a class="anchor" id="teabags"></a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="application-1-real-mass-spectrometry-data-of-a-fun-molecule">
<h1>Application 1: Real Mass Spectrometry data of a fun molecule<a class="headerlink" href="#application-1-real-mass-spectrometry-data-of-a-fun-molecule" title="Permalink to this headline">#</a></h1>
<p><a class="anchor" id="MSDATA"></a></p>
<p><strong>Mass Spectrometry (MS)</strong> is an experimental technique enabling the <em>measurement of the mass-to-charge (m/z) of a molecule</em>. In a mass spectrometer, molecules can also be fragmented: as such, the mass-to-charge of resulting fragments can also be simultaneously detected. A typical mass spectrum is reported in a dataset with two columns: the first is a regularly spaced range of m/z values, while the second is the detected intensity associated with each m/z value. In this first application, we will work with MS data of some fun molecules!</p>
<p>By running the cell below, a random molecule will be selected. The following information will be returned:</p>
<ul class="simple">
<li><p>a name of one of the molecules (saved in the variable <code class="docutils literal notranslate"><span class="pre">m</span></code>)</p></li>
<li><p>a link to the <a class="reference external" href="http://www.chm.bris.ac.uk/motm/motm.htm">The Molecule of the Month</a> website associated to your molecule (saved in the variable <code class="docutils literal notranslate"><span class="pre">w</span></code>).</p></li>
</ul>
<p>Printed on screen, you will find the path to text files containing the molecular structure and MS data.</p>
<ul class="simple">
<li><p>The MS data for all the compounds is taken from <a class="reference external" href="https://massbank.eu/MassBank/"><em>MassBank</em></a>. ACCESSION, RECORD_TITLE, DATE and AUTHORS are given in the comment section (lines starting with <code class="docutils literal notranslate"><span class="pre">#</span></code>) of the <code class="docutils literal notranslate"><span class="pre">data/MS_*Molecule*.txt</span></code> file.</p></li>
<li><p>The molecular structures are obtained from <a class="reference external" href="https://molview.org">MolView</a>.</p></li>
</ul>
<div class="alert alert-info">
The <b>Molecule of the Month website</b>, created by <a href="http://www.bris.ac.uk/chemistry/people/paul-w-may">Prof Paul May</a> from  Bristol University, holds information on many of the interesting molecules that we meet in our lives. For more information, see: <a href="doi.org/10.3390/molecules22040549">P.W. May, S.A. Cotton, K. Harrison, H.S. Rzepa, The ‘Molecule of the Month’ website – an extraordinary chemistry educational resource online for over 20 years”, Molecules 22 (2017) 549-559</a>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">molecule_getter</span> <span class="k">as</span> <span class="nn">mg</span>
<span class="n">m</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">mg</span><span class="o">.</span><span class="n">get_molecule</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Cyan">Your molecule is Riboflavin !</span>
The structure file for your molecule Riboflavin is named data/Riboflavin.mol
The MassSpec data file for your molecule Riboflavin is named data/MS_Riboflavin.txt
Interesting facts about %s are on http://www.chm.bris.ac.uk/motm/vitaminB2/vitaminb2h.htm
</pre></div>
</div>
</div>
</div>
<section id="visualising-molecular-structure">
<h2>1.1 Visualising Molecular Structure<a class="headerlink" href="#visualising-molecular-structure" title="Permalink to this headline">#</a></h2>
<p><a class="anchor" id="molec_view"></a></p>
<p>The molecule selected for us has its name saved in the variable <code class="docutils literal notranslate"><span class="pre">m</span></code>. The molecule itself (as a .mol file), is available in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory of this unit. Let’s store in the variable <code class="docutils literal notranslate"><span class="pre">molecule</span></code> the path to .mol file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">molecule</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;./data/</span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s1">.mol&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s start by visualising our molecule. For this we can use the <code class="docutils literal notranslate"><span class="pre">nglview</span></code> Python package (see its documentation <a class="reference external" href="http://nglviewer.org/nglview/latest/">here</a>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nglview</span> <span class="k">as</span> <span class="nn">nv</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "f4a201a2ccc34932924b8adb152d9233"}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">molec</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">show_file</span><span class="p">(</span><span class="n">molecule</span><span class="p">)</span>
<span class="n">molec</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "version_minor": 0, "model_id": "8605a642f529416d9466fcc5c59acbb7"}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">molec</span><span class="o">.</span><span class="n">add_surface</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span> <span class="c1"># add a surface representation</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">molec</span><span class="o">.</span><span class="n">color_by</span><span class="p">(</span><span class="s1">&#39;atomindex&#39;</span><span class="p">)</span> <span class="c1"># colour by index</span>
</pre></div>
</div>
</div>
</div>
<p>If we want to change the representation completely, we need to first <em>clear the previous representations</em>, then add the new one.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">molec</span><span class="o">.</span><span class="n">clear_representations</span><span class="p">()</span>
<span class="n">molec</span><span class="o">.</span><span class="n">add_hyperball</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">molec</span><span class="o">.</span><span class="n">add_hyperball</span><span class="p">(</span><span class="n">selection</span><span class="o">=</span><span class="s1">&#39;atom _O&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="finding-peaks-on-ms-data">
<h2>1.2 Finding peaks on MS data<a class="headerlink" href="#finding-peaks-on-ms-data" title="Permalink to this headline">#</a></h2>
<p><a class="anchor" id="peaks"></a></p>
<div class="alert alert-success">
    <b>TASK 1 - Finding peaks on your MassSpec </b> 
<ul class="simple">
<li><p>Load the data from the mass spectrum in the .txt file named above</p></li>
<li><p>Label with a cross the highest peak in the txt file, and find its corresponding m/z</p></li>
<li><p>add labels and legends to your plot, and save it</p></li>
<li><p>What is the difference between intensity and relative intensity? Calculate the relative intensity and produce a correctly labelled plot.</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">scipy.signal.find_peaks</span></code>, find all peaks in the dataset, and mark them with a cross.</p></li>
</ul>
</div><div class="alert alert-info">
        <b>HINTS: </b>   
<p><strong>Do you remember what molecule it was?</strong></p>
<p>The variable defining your molecule is <code class="docutils literal notranslate"><span class="pre">m</span></code>, you can print it in the terminal:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Your molecule is </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s1">, and the datafile is data/MS_</span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s1">.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Do you know how your datafile looks like? What are the comments and the delimeters?</strong></p>
<p>Before loading the mass spectrum data into our notebook we should take a closer look at what the datafile looks like.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>!head -24 ./data/filename.txt  
</pre></div>
</div>
<p>You should find that the file is has comments on the lines starting with ‘#’; the data is in 3 columns: m/z, intensity, relative intensity, separated by the white spaces.</p>
<hr class="docutils" />
<p><strong>Do you need a help to load datafiles?</strong></p>
<p>See Session 5 extra notebook <a class="reference internal" href="../Unit_05/Extra_Pandas_NumPy.html"><span class="doc std std-doc">Pandas vs Numpy</span></a></p>
<hr class="docutils" />
<p><strong>Do you need a reminder on plotting?</strong></p>
<p>See Session 5 extra notebook <a class="reference internal" href="../Unit_05/Unit_05_II_plotting.html"><span class="doc std std-doc">Plotting</span></a></p>
<hr class="docutils" />
<p>To <strong>annotate your plot</strong>:</p>
<p>you can use function <code class="docutils literal notranslate"><span class="pre">plt.annotate</span> <span class="pre">('text',</span> <span class="pre">xy=(x,y)</span> <span class="pre">)</span></code> more <a class="reference external" href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.annotate.html">information here</a>
in the case of this example the text will be <em>m/z= VALUE</em> and can be expressed like this: <code class="docutils literal notranslate"><span class="pre">mz</span> <span class="pre">=</span> <span class="pre">%s'%maxval[0]</span></code>
the position is slightly offset from the peak itself <code class="docutils literal notranslate"><span class="pre">(maxval[0]+10,</span> <span class="pre">maxval[1]-50)</span></code></p>
<hr class="docutils" />
<p>To <strong>find peaks</strong>:</p>
<p>package you have already seen <code class="docutils literal notranslate"><span class="pre">scipy.signal.find_peaks</span></code> manual <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.find_peaks.html">here</a></p>
<p>we will see that the input should look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">peaks</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> 

</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">_</span></code> is used for an array that you will not use (see later details for this);
where <code class="docutils literal notranslate"><span class="pre">x</span></code> is our signal the other parameters are non-compulsory, but necessary for a good search.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Do you remember what is your molecule? </span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your Solution</span>
</pre></div>
</div>
</div>
</div>
<details>
<summary> <mark> SOLUTION on an example of Caffeine using numpy only:</mark> </summary>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">find_peaks</span>

<span class="c1">#load data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;./data/MS_Caffeine.txt&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>

<span class="c1">#assign columns to variable names</span>
<span class="n">mz</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">intens</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">relintens</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>

<span class="c1">#find max in intensity and it&#39;s position</span>
<span class="n">maxpos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">intens</span><span class="p">)</span>
<span class="n">maxval</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">maxpos</span><span class="p">,</span> <span class="p">:]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Max m/z is&#39;</span><span class="p">,</span> <span class="n">maxval</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1">#find peaks</span>
<span class="n">peaks</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">relintens</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;found&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">peaks</span><span class="p">),</span> <span class="s1">&#39;peaks&#39;</span><span class="p">)</span>

<span class="c1">#make a figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Caffeine MS - single peak&quot;</span><span class="p">)</span>

<span class="c1">#add data to the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mz</span><span class="p">,</span> <span class="n">intens</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">maxval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">maxval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;peak&#39;</span><span class="p">)</span>

<span class="c1">#adding an value next to the peak</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">maxval</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">10</span>  <span class="c1">#shift x axis to the right by 10</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">maxval</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">50</span>  <span class="c1">#shift y axis down by 50</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;m/z=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">maxval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

<span class="c1">#plot legend with a location and label axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;m/z&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;intensity&quot;</span><span class="p">)</span>

<span class="c1">#next plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Caffeine MS - top </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">peaks</span><span class="p">)</span><span class="si">}</span><span class="s1"> peaks&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mz</span><span class="p">,</span> <span class="n">relintens</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">peaks</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="n">peaks</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;peaks&#39;</span><span class="p">)</span>

<span class="c1">#label and adjust plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;m/z&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;relative intensity&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1">#save figure ans show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;MS_Caffeine_MZ.png&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</details><details>
<summary> <mark> SOLUTION on an example of Caffeine using pandas:</mark> </summary>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">find_peaks</span>

<span class="c1">#load data and assign column labels</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./data/MS_Caffeine.txt&quot;</span><span class="p">,</span>
                   <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">,</span>
                   <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mz&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;relI&#39;</span><span class="p">])</span>

<span class="c1">#select &#39;m/z&#39; as the index column</span>
<span class="n">data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;mz&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># one option for finding maximum intensity and mz at that position</span>
<span class="c1"># use idxmax to select index where column &#39;I&#39; is max</span>
<span class="c1"># use max for finding maximum in &#39;I&#39; column</span>
<span class="n">max_val</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;I&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
<span class="n">max_pos</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;I&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;m/z of max I is </span><span class="si">{</span><span class="n">max_val</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="sa">f</span><span class="s1">&#39;max I is </span><span class="si">{</span><span class="n">max_pos</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># find peaks in &#39;relI&#39; column</span>
<span class="n">peaks</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;relI&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;found&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">peaks</span><span class="p">),</span> <span class="s1">&#39;peaks&#39;</span><span class="p">)</span>

<span class="c1">#make a figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Caffeine MS - single peak&quot;</span><span class="p">)</span>

<span class="c1">#add data to the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;I&#39;</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">max_val</span><span class="p">,</span> <span class="n">max_pos</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;peak&#39;</span><span class="p">)</span>

<span class="c1">#adding an value next to the peak</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">max_val</span> <span class="o">+</span> <span class="mi">10</span>  <span class="c1">#shift x axis to the right by 10</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">max_pos</span> <span class="o">-</span> <span class="mi">50</span>  <span class="c1">#shift y axis down by 50</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;m/z=</span><span class="si">{</span><span class="n">max_val</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

<span class="c1">#plot legend with a location and label axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;m/z&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;intensity&quot;</span><span class="p">)</span>

<span class="c1">#next plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Caffeine MS - top </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">peaks</span><span class="p">)</span><span class="si">}</span><span class="s1"> peaks&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;relI&#39;</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">peaks</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
         <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">peaks</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
         <span class="s1">&#39;X&#39;</span><span class="p">,</span>
         <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
         <span class="n">label</span><span class="o">=</span><span class="s1">&#39;peaks&#39;</span><span class="p">)</span>

<span class="c1">#label and adjust plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;m/z&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;relative intensity&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1">#save figure ans show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;MS_Caffeine_MZ.png&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</details><div class="alert alert-success">
    <b>TASK 2 - Optimise the Search </b> 
<p>Optimise the search for peaks:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scipy</span><span class="o">.</span><span class="n">signal</span><span class="o">.</span><span class="n">find_peaks</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prominence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wlen</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rel_height</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">plateau_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>the output will then also give a dictionary of various properties, according to the parameters passed.</p>
<p>Try 4 searches, setting the various height, threshold, distance, prominance and see how it affects the peak search, by plotting these next to each otheras 2x2 grid of subplots</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your Solution</span>
</pre></div>
</div>
</div>
</div>
<details>
<summary> <mark> SOLUTION on an example of Caffeine:</mark> </summary>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">find_peaks</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;./data/MS_Caffeine.txt&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>

<span class="c1">#lets use normalised data</span>
<span class="n">intens</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>

<span class="c1">#define parameters the test</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">p</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">w</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">t</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">peaks1</span><span class="p">,</span> <span class="n">properties1</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">intens</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">h</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;found&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">peaks1</span><span class="p">),</span> <span class="s1">&#39;peaks for height=&#39;</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>

<span class="n">peaks2</span><span class="p">,</span> <span class="n">properties2</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">intens</span><span class="p">,</span> <span class="n">prominence</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;found&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">peaks2</span><span class="p">),</span> <span class="s1">&#39;peaks for prominence=&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>

<span class="n">peaks3</span><span class="p">,</span> <span class="n">properties3</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">intens</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">h</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">w</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;found&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">peaks3</span><span class="p">),</span> <span class="s1">&#39;peaks for hight = </span><span class="si">%s</span><span class="s1"> and width=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>

<span class="n">peaks4</span><span class="p">,</span> <span class="n">properties4</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">intens</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;found&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">peaks4</span><span class="p">),</span> <span class="s1">&#39;peaks for threshold=&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>

<span class="c1">#plot it</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">peaks1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="n">peaks1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;xr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;height&#39;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">peaks2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="n">peaks2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;xb&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;prominence&#39;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">peaks3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="n">peaks3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;xm&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;hight &amp; width&#39;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">peaks4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="n">peaks4</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;xk&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;threshold&#39;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;MS_Caffeine_Peaks_compare.png&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

</pre></div>
</div>
</details><p><strong>Feeling like you want to analyse and plot more data?</strong></p>
<p>There are a few more data files for you, providing data on compounds typically used as calibrants in MS.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MS_FC43pos.txt</span></code> Perfluorotributylamine (FC43), here as a positive ion</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MS_FC43neg.txt</span></code> FC43 as a negative ion</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MS_PFK.txt</span></code> Perfluorokerosene (PFK)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MS_FC70pos.txt</span></code> Perfluorotripentylamine (FC70) pssitive</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MS_FC70neg.txt</span></code> FC70 negative ion</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MS_FAB.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MS_CsI.txt</span></code></p></li>
</ul>
<details>
<summary> <mark> SOLUTION example:</mark> </summary>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="c1">#load data</span>
<span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;./data/MS_FC43pos.txt&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>
<span class="n">data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;./data/MS_FC43neg.txt&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="o">=</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>

<span class="c1">#find max and min</span>
<span class="n">maxpos1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">data1</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">maxval1</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[</span><span class="n">maxpos1</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">maxpos2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">data2</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">maxval2</span> <span class="o">=</span> <span class="n">data2</span><span class="p">[</span><span class="n">maxpos2</span><span class="p">,</span> <span class="p">:]</span>

<span class="c1">#make a figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="c1">#make subplot, name the figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Perfluorotributylamine&quot;</span><span class="p">)</span>

<span class="c1">#add data to the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data1</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data1</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;.-&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Positive Ion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data2</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">data2</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;.-&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Negative Ion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">maxval1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">maxval1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;peaks&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">maxval2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">maxval2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="c1">#labe  axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;m/z&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Rel. Abundance&quot;</span><span class="p">)</span>

<span class="c1">#plot legend with a location</span>
<span class="c1">#&#39;upper/lower left/right/center&#39; or &#39;center left/right&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>

<span class="c1">#save figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;MS_FC43.png&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</details><p><a class="reference external" href="#teabags">back to top</a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="application-2-radioactive-decay">
<h1>Application 2: Radioactive Decay<a class="headerlink" href="#application-2-radioactive-decay" title="Permalink to this headline">#</a></h1>
<p><a class="anchor" id="RadDecay"></a></p>
<section id="theory-a-class-anchor-id-theory-a">
<h2>1.2 Theory <a class="anchor" id="theory"></a><a class="headerlink" href="#theory-a-class-anchor-id-theory-a" title="Permalink to this headline">#</a></h2>
<section id="radiocarbon">
<h3>Radiocarbon<a class="headerlink" href="#radiocarbon" title="Permalink to this headline">#</a></h3>
<p><strong>Isotopes</strong> of an element share the same number of protons but have different numbers of neutrons.
Each element has numerous isotopes, but only a few will be stable enough to be found naturally. For example, carbon has:</p>
<ul class="simple">
<li><p>two stable isotopes:</p>
<ul>
<li><p>98+% of total carbon is <sup>12</sup>C, and</p></li>
<li><p>~1% is <sup>13</sup>C (<sup>13</sup>C allows us to do NMR!)</p></li>
</ul>
</li>
<li><p>one radioactive (i.e. capable of a decay into another element) <sup>14</sup>C, formed cosmogenically in small amounts.</p></li>
<li><p>further 12 isotopes are known, only stable on the sub-second timescales they have been produced artificially.</p></li>
</ul>
<img src="images/C_isotopes.jpg" width="800">
<p>Since Carbon-14 has one too many neutrons, it will undergo a <span class="math notranslate nohighlight">\(\beta^-\)</span> decay into <sup>14</sup>N, where a neutron will decay into a proton, emitting an electron (<span class="math notranslate nohighlight">\(\beta\)</span>-particle) and an anti-neutrino, ν:</p>
<p><sub>6</sub><sup>14</sup>C  -&gt; <sub>7</sub><sup>14</sup>N + e<sup>-</sup> +  ν</p>
<p>The amount of carbon-14 is constantly replenished through the reaction of nitrogen-14 in the atmosphere under exposure to the cosmic ray action:</p>
<p>n + <sub>7</sub><sup>14</sup>N  -&gt; <sub>6</sub><sup>14</sup>C + p<sup>+</sup></p>
<p>Therefore, <sup>14</sup>C is a cosmogenic nuclide. However, open-air nuclear testing (between 1955 and 1980s) have also increased the amount of <sup>14</sup>C in the environment. This Carbon-14, reacts with oxygen, forming CO<sub>2</sub> and gets incorporated (photosynthesis, mixing, C-exchange) into various living species and natural materials. Decaying slowly with a halflife of 5730 years, it becomes ideal for dating materials up to 10 000 BC (Mesolithic age, when humans have still been mainly hunter/gatherers).</p>
<p>The method of radiocarbon dating was proposed by <a class="reference external" href="https://en.wikipedia.org/wiki/Willard_Libby">Willard Libby</a> in 1949. Here is the figure from the original paper explaining the ages of various materials -
J. R. Arnold &amp; W. F. Libby, “Age Determinations by Radiocarbon Content: Checks with Samples of Known Age,” Science 110(2869), 678–680, 1949.</p>
<img src="images/carbon_dating_libby.png" width="400"><div class="alert alert-info">
<b>Want to learn more?</b>
<ul class="simple">
<li><p>The <a href="https://en.wikipedia.org/wiki/Shroud_of_Turin">Shroud of Turin</a> is a linen cloth, claimed to be the negative image of Jesus of Nazareth, as the cloth wrapped the body after crucifixion. In 1988, radiocarbon dating established that the shroud was from the Middle Ages, between the years 1260 and 1390.
<a href="https://www.nature.com/articles/337611a0">P. E. Damon et al., Radiocarbon Dating of the Shroud of Turin, Nature 337(6208), 611–615, 1989</a>.</p></li>
<li><p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Bakhshali_manuscript">Bakhshali Manuscript</a> contains the earliest known Indian use of a zero symbol. There has been some debate on the age of this manuscript.</p></li>
<li><p><a class="reference external" href="https://www.cambridge.org/core/journals/radiocarbon/article/recent-developments-in-calibration-for-archaeological-and-environmental-samples/671DCC8A4A38ACF57786EFC659E5D8F6">J. Van der Plicht et al.Recent Developments in Calibration for Archaeological and Environmental Samples, Radiocarbon, 62(4), 1095-1117, 2020</a>.</p></li>
</ul>
</div></section>
<section id="radioactive-decay">
<h3>Radioactive Decay<a class="headerlink" href="#radioactive-decay" title="Permalink to this headline">#</a></h3>
<p><a class="anchor" id="Simulation"></a></p>
<p>The decay itself is exponential - the number of particles, <span class="math notranslate nohighlight">\(N\)</span>, at a given moment in time, <span class="math notranslate nohighlight">\(t\)</span>, can be calculated as:</p>
<p><span class="math notranslate nohighlight">\( N=N_0 e^{-\lambda t}\)</span> ,</p>
<p>where <span class="math notranslate nohighlight">\(\lambda\)</span> is the decay constant, <span class="math notranslate nohighlight">\(N_0\)</span> is the number of particles at the start, i.e. at <span class="math notranslate nohighlight">\(t=0\)</span>.</p>
<p>The halflife, <span class="math notranslate nohighlight">\(\tau\)</span>, of a material is the time it takes for the half of radioactive particles to decay:</p>
<p><span class="math notranslate nohighlight">\(\tau = \frac{\ln(2)}{\lambda}\)</span> .</p>
<p>Let’s see this in action with a simulation below.</p>
<p><a class="reference external" href="#teabags">back to top</a></p>
</section>
</section>
<section id="simulating-radioactive-decay">
<h2>2.2 Simulating Radioactive Decay<a class="headerlink" href="#simulating-radioactive-decay" title="Permalink to this headline">#</a></h2>
<p>Adapted from <a class="reference external" href="https://www.wired.com/2017/04/lets-model-radioactive-decay-show-carbon-dating-works">Wired</a>, written by Rhett Allain.</p>
<p>A material made of element <strong>X</strong> is composed from <span style="color:blue"><strong>stable blue particles</strong></span> and  <span style="color:red"><strong>radioactive red particles</strong></span>, which decay into a new element <strong>Y</strong>, <span style="color:cyan"><strong>stable cyan particles</strong></span>.</p>
<p>The total amount of particles forming material is 500 element <strong>X</strong>, out of which 34.4% are radioactive.</p>
<p>The decay rate for the <span style="color:red"><strong>X</strong></span> –&gt; <span style="color:cyan"><strong>Y</strong></span> is 1/3, i.e a particle has 33.3(3)% chance to decay over a given unit of time.</p>
<p>Below, we calculate what happens over the 1000 time units, and we will run the calculation with a step of 5 time units.</p>
<p>There will be a large print out of the code, change the cell view by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cell tab -&gt; All Outputs -&gt; Toggle Scrolling
</pre></div>
</div>
<p>You likely need to install <a class="reference external" href="https://www.glowscript.org/docs/VPythonDocs/index.html">vpython</a> installed. For this, please run the cell below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>vpython
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: vpython in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (7.6.4)
Requirement already satisfied: jupyter in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from vpython) (1.0.0)
Requirement already satisfied: jupyter-server-proxy in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from vpython) (3.2.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from vpython) (1.24.1)
Requirement already satisfied: ipykernel in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from vpython) (6.19.4)
Requirement already satisfied: autobahn&lt;27,&gt;=22.6.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from vpython) (22.12.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: txaio&gt;=21.2.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from autobahn&lt;27,&gt;=22.6.1-&gt;vpython) (22.2.1)
Requirement already satisfied: cryptography&gt;=3.4.6 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from autobahn&lt;27,&gt;=22.6.1-&gt;vpython) (39.0.0)
Requirement already satisfied: hyperlink&gt;=21.0.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from autobahn&lt;27,&gt;=22.6.1-&gt;vpython) (21.0.0)
Requirement already satisfied: setuptools in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from autobahn&lt;27,&gt;=22.6.1-&gt;vpython) (65.6.3)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: appnope in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (0.1.3)
Requirement already satisfied: comm&gt;=0.1.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (0.1.2)
Requirement already satisfied: debugpy&gt;=1.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (1.6.4)
Requirement already satisfied: ipython&gt;=7.23.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (8.7.0)
Requirement already satisfied: jupyter-client&gt;=6.1.12 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (7.4.8)
Requirement already satisfied: matplotlib-inline&gt;=0.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (0.1.6)
Requirement already satisfied: nest-asyncio in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (1.5.6)
Requirement already satisfied: packaging in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (22.0)
Requirement already satisfied: psutil in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (5.9.4)
Requirement already satisfied: pyzmq&gt;=17 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (24.0.1)
Requirement already satisfied: tornado&gt;=6.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (6.2)
Requirement already satisfied: traitlets&gt;=5.4.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipykernel-&gt;vpython) (5.8.0)
Requirement already satisfied: notebook in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-&gt;vpython) (6.5.2)
Requirement already satisfied: qtconsole in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-&gt;vpython) (5.4.0)
Requirement already satisfied: jupyter-console in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-&gt;vpython) (6.4.4)
Requirement already satisfied: nbconvert in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-&gt;vpython) (6.5.3)
Requirement already satisfied: ipywidgets in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-&gt;vpython) (7.7.2)
Requirement already satisfied: aiohttp in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server-proxy-&gt;vpython) (3.8.3)
Requirement already satisfied: jupyter-server&gt;=1.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server-proxy-&gt;vpython) (2.0.6)
Requirement already satisfied: simpervisor&gt;=0.4 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server-proxy-&gt;vpython) (0.4)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: cffi&gt;=1.12 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from cryptography&gt;=3.4.6-&gt;autobahn&lt;27,&gt;=22.6.1-&gt;vpython) (1.15.1)
Requirement already satisfied: idna&gt;=2.5 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from hyperlink&gt;=21.0.0-&gt;autobahn&lt;27,&gt;=22.6.1-&gt;vpython) (3.4)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: backcall in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.2.0)
Requirement already satisfied: decorator in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (5.1.1)
Requirement already satisfied: jedi&gt;=0.16 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.18.2)
Requirement already satisfied: pickleshare in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.7.5)
Requirement already satisfied: prompt-toolkit&lt;3.1.0,&gt;=3.0.11 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (3.0.36)
Requirement already satisfied: pygments&gt;=2.4.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (2.14.0)
Requirement already satisfied: stack-data in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.6.2)
Requirement already satisfied: pexpect&gt;4.3 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (4.8.0)
Requirement already satisfied: entrypoints in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-client&gt;=6.1.12-&gt;ipykernel-&gt;vpython) (0.4)
Requirement already satisfied: jupyter-core&gt;=4.9.2 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-client&gt;=6.1.12-&gt;ipykernel-&gt;vpython) (5.1.1)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-client&gt;=6.1.12-&gt;ipykernel-&gt;vpython) (2.8.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: anyio&lt;4,&gt;=3.1.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (3.6.2)
Requirement already satisfied: argon2-cffi in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (21.3.0)
Requirement already satisfied: jinja2 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (3.1.2)
Requirement already satisfied: jupyter-events&gt;=0.4.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (0.5.0)
Requirement already satisfied: jupyter-server-terminals in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (0.4.3)
Requirement already satisfied: nbformat&gt;=5.3.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (5.7.1)
Requirement already satisfied: prometheus-client in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (0.15.0)
Requirement already satisfied: send2trash in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (1.8.0)
Requirement already satisfied: terminado&gt;=0.8.3 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (0.17.1)
Requirement already satisfied: websocket-client in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (1.4.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: lxml in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (4.9.2)
Requirement already satisfied: beautifulsoup4 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (4.11.1)
Requirement already satisfied: bleach in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (5.0.1)
Requirement already satisfied: defusedxml in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (0.7.1)
Requirement already satisfied: jupyterlab-pygments in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (0.2.2)
Requirement already satisfied: MarkupSafe&gt;=2.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (2.1.1)
Requirement already satisfied: mistune&lt;2,&gt;=0.8.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (0.8.3)
Requirement already satisfied: nbclient&gt;=0.5.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (0.5.13)
Requirement already satisfied: pandocfilters&gt;=1.4.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (1.5.0)
Requirement already satisfied: tinycss2 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbconvert-&gt;jupyter-&gt;vpython) (1.2.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: attrs&gt;=17.3.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from aiohttp-&gt;jupyter-server-proxy-&gt;vpython) (21.4.0)
Requirement already satisfied: charset-normalizer&lt;3.0,&gt;=2.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from aiohttp-&gt;jupyter-server-proxy-&gt;vpython) (2.1.1)
Requirement already satisfied: multidict&lt;7.0,&gt;=4.5 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from aiohttp-&gt;jupyter-server-proxy-&gt;vpython) (6.0.4)
Requirement already satisfied: async-timeout&lt;5.0,&gt;=4.0.0a3 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from aiohttp-&gt;jupyter-server-proxy-&gt;vpython) (4.0.2)
Requirement already satisfied: yarl&lt;2.0,&gt;=1.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from aiohttp-&gt;jupyter-server-proxy-&gt;vpython) (1.8.2)
Requirement already satisfied: frozenlist&gt;=1.1.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from aiohttp-&gt;jupyter-server-proxy-&gt;vpython) (1.3.3)
Requirement already satisfied: aiosignal&gt;=1.1.2 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from aiohttp-&gt;jupyter-server-proxy-&gt;vpython) (1.3.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ipython-genutils~=0.2.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipywidgets-&gt;jupyter-&gt;vpython) (0.2.0)
Requirement already satisfied: widgetsnbextension~=3.6.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipywidgets-&gt;jupyter-&gt;vpython) (3.6.1)
Requirement already satisfied: jupyterlab-widgets&lt;3,&gt;=1.0.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from ipywidgets-&gt;jupyter-&gt;vpython) (1.1.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: nbclassic&gt;=0.4.7 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from notebook-&gt;jupyter-&gt;vpython) (0.4.8)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: qtpy&gt;=2.0.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from qtconsole-&gt;jupyter-&gt;vpython) (2.3.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: sniffio&gt;=1.1 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from anyio&lt;4,&gt;=3.1.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (1.3.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pycparser in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from cffi&gt;=1.12-&gt;cryptography&gt;=3.4.6-&gt;autobahn&lt;27,&gt;=22.6.1-&gt;vpython) (2.21)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: parso&lt;0.9.0,&gt;=0.8.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jedi&gt;=0.16-&gt;ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.8.3)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: platformdirs&gt;=2.5 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-core&gt;=4.9.2-&gt;jupyter-client&gt;=6.1.12-&gt;ipykernel-&gt;vpython) (2.6.2)
Requirement already satisfied: jsonschema[format-nongpl]&gt;=4.3.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (4.17.3)
Requirement already satisfied: python-json-logger in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (2.0.4)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pyyaml in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (6.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: notebook-shim&gt;=0.1.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbclassic&gt;=0.4.7-&gt;notebook-&gt;jupyter-&gt;vpython) (0.2.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: fastjsonschema in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from nbformat&gt;=5.3.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (2.16.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ptyprocess&gt;=0.5 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from pexpect&gt;4.3-&gt;ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.7.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: wcwidth in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from prompt-toolkit&lt;3.1.0,&gt;=3.0.11-&gt;ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.2.5)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: six&gt;=1.5 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from python-dateutil&gt;=2.8.2-&gt;jupyter-client&gt;=6.1.12-&gt;ipykernel-&gt;vpython) (1.16.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: argon2-cffi-bindings in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from argon2-cffi-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (21.2.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: soupsieve&gt;1.2 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from beautifulsoup4-&gt;nbconvert-&gt;jupyter-&gt;vpython) (2.3.2.post1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: webencodings in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from bleach-&gt;nbconvert-&gt;jupyter-&gt;vpython) (0.5.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: executing&gt;=1.2.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from stack-data-&gt;ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (1.2.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: asttokens&gt;=2.1.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from stack-data-&gt;ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (2.2.1)
Requirement already satisfied: pure-eval in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from stack-data-&gt;ipython&gt;=7.23.1-&gt;ipykernel-&gt;vpython) (0.2.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,&gt;=0.14.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (0.19.3)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: fqdn in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (1.5.1)
Requirement already satisfied: isoduration in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (20.11.0)
Requirement already satisfied: jsonpointer&gt;1.13 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (2.3)
Requirement already satisfied: rfc3339-validator in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (0.1.4)
Requirement already satisfied: rfc3986-validator&gt;0.1.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (0.1.1)
Requirement already satisfied: uri-template in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (1.2.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: webcolors&gt;=1.11 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (1.12)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: arrow&gt;=0.15.0 in /Users/toni_brain/miniconda3/envs/jup-book/lib/python3.11/site-packages (from isoduration-&gt;jsonschema[format-nongpl]&gt;=4.3.0-&gt;jupyter-events&gt;=0.4.0-&gt;jupyter-server&gt;=1.0-&gt;jupyter-server-proxy-&gt;vpython) (1.2.3)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># INPUTS FOR THE DECAY</span>

<span class="c1">#N is the total number of atoms</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">500</span>

<span class="c1">#N2 is number of atoms that can decay</span>
<span class="n">N2</span> <span class="o">=</span> <span class="mf">0.344</span> <span class="o">*</span> <span class="n">N</span>  <span class="c1">#0.344 is 34.4%. You could try changing this</span>

<span class="c1">#instead of steps, I am using t for time. simulation will run untill tmax</span>
<span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">tmax</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1">#dt is the time interval. it is set to 5 time units. You could try changing this</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1">#r is the decay rate - the probability that one atom decays at time interval dt</span>
<span class="n">r</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span> <span class="c1"># rate of 1/3, is a decay chance of 33.3%. You could try changing this</span>


<span class="c1">########## PROGRAM BELOW ###########</span>

<span class="kn">from</span> <span class="nn">vpython</span> <span class="kn">import</span> <span class="o">*</span>
<span class="c1"># This is needed in Jupyter notebook and lab to make programs glowscript programs rerunnable</span>
<span class="n">canvas</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;&lt;b&gt;Decay Simulation&lt;/b&gt;&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">white</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>  

<span class="c1">#Build initial system</span>
<span class="n">atoms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">atoms2</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1">#n and n2 are counters</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="n">N2</span><span class="p">):</span>
    <span class="n">atoms</span> <span class="o">=</span> <span class="n">atoms</span> <span class="o">+</span> <span class="p">[</span> <span class="n">sphere</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="n">vector</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">radius</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span> <span class="p">]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">n2</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">n2</span> <span class="o">&lt;=</span> <span class="n">N2</span><span class="p">:</span>
    <span class="n">atoms2</span> <span class="o">=</span> <span class="n">atoms2</span> <span class="o">+</span> <span class="p">[</span> <span class="n">sphere</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="n">vector</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">),</span>
               <span class="n">radius</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">red</span><span class="p">)</span> <span class="p">]</span>
    <span class="n">n2</span> <span class="o">=</span> <span class="n">n2</span> <span class="o">+</span> <span class="mi">1</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total no. of atoms is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;</span><span class="si">%.2f%%</span><span class="s2"> of them are unstable (=red),&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">N2</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">/</span> <span class="n">N</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;i.e. at the start of simulation, t=0, there are </span><span class="si">%i</span><span class="s2"> unstable atoms </span><span class="se">\n</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">N2</span><span class="p">))</span>

<span class="c1">#decay is the number of things that have decayed, starts with 0</span>
<span class="n">decay</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1">#this part makes a graph</span>
<span class="n">g1</span> <span class="o">=</span> <span class="n">graph</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;&lt;b&gt;Decay plot&lt;/b&gt;&#39;</span><span class="p">,</span> <span class="n">xtitle</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span>
           <span class="n">ytitle</span><span class="o">=</span><span class="s1">&#39;No. of particles per type&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">fast</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">f1</span> <span class="o">=</span> <span class="n">gdots</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="n">g1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#points on the plot</span>
<span class="c1">#f2 = gcurve(graph=g1) # add a line plot</span>
<span class="n">f3</span> <span class="o">=</span> <span class="n">gdots</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="n">g1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1">#f4 = gcurve(graph=g1) </span>
<span class="n">f5</span> <span class="o">=</span> <span class="n">gdots</span><span class="p">(</span><span class="n">graph</span><span class="o">=</span><span class="n">g1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">cyan</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1">#f6 = gcurve(graph=g1) </span>

<span class="c1">#add initial data to graph</span>
<span class="n">f1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="n">f3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">N2</span><span class="p">)</span>
<span class="n">f5</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">decay</span><span class="p">)</span>

<span class="c1">#the following is a loop to go through each item for decay</span>
<span class="c1">#this runs as long as t is less than tmax</span>
<span class="k">while</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="n">tmax</span><span class="p">:</span>
    <span class="c1">#rate(10) means display ten loops per second</span>
    <span class="n">rate</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="c1">#this goes through each atom in the list and decides if it decays</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">atoms2</span><span class="p">:</span>
        <span class="c1">#temp is a random number between 0 and 1. temperature can be thought of as a probability</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span>

    <span class="c1">#if it decays, do two things:</span>
    <span class="k">if</span> <span class="n">temp</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">:</span>
        <span class="c1">#1-make the atom change colour</span>
        <span class="n">i</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">cyan</span>
        <span class="c1">#i.emissive=True</span>
        <span class="c1">#i.visible=False</span>
        <span class="c1">#2-remove it from the atom list, add to decay list</span>
        <span class="n">atoms2</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">decay</span> <span class="o">=</span> <span class="n">decay</span> <span class="o">+</span> <span class="mi">1</span>
    
    <span class="c1">#increase time by one time interval step</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">t</span> <span class="o">+</span> <span class="n">dt</span>
    
    <span class="c1">#add a data point to the graph</span>
    <span class="n">f1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">atoms2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">atoms</span><span class="p">)))</span>
    <span class="c1">#f2.plot(t, (len(atoms2) + len(atoms)))</span>
    <span class="n">f3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">atoms2</span><span class="p">)))</span>
    <span class="c1">#f4.plot(t, (len(atoms2)))</span>
    <span class="n">f5</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">decay</span><span class="p">)</span>
    <span class="c1">#f6.plot(t, decay)</span>

<span class="c1">#prints the number of atoms that decayed at the end of the simulation</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">decay</span><span class="si">}</span><span class="s1"> of unstable atoms (=red) have decayed (=cyan) by the t = </span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are still </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">atoms2</span><span class="p">)</span><span class="si">}</span><span class="s1"> atoms that can decay&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id="glowscript" class="glowscript"></div></div><script type="application/javascript">if (typeof Jupyter !== "undefined") { window.__context = { glowscript_container: $("#glowscript").removeAttr("id")};}else{ element.textContent = ' ';}</script><div class="output text_html"><div id="glowscript" class="glowscript"></div></div><script type="application/javascript">if (typeof Jupyter !== "undefined") { window.__context = { glowscript_container: $("#glowscript").removeAttr("id")};}else{ element.textContent = ' ';}</script><script type="application/javascript">if (typeof Jupyter !== "undefined") {require.undef("nbextensions/vpython_libraries/glow.min");}else{element.textContent = ' ';}</script><script type="application/javascript">if (typeof Jupyter !== "undefined") {require.undef("nbextensions/vpython_libraries/glowcomm");}else{element.textContent = ' ';}</script><script type="application/javascript">if (typeof Jupyter !== "undefined") {require.undef("nbextensions/vpython_libraries/jquery-ui.custom.min");}else{element.textContent = ' ';}</script><script type="application/javascript">if (typeof Jupyter !== "undefined") {require(["nbextensions/vpython_libraries/glow.min"], function(){console.log("GLOW LOADED");});}else{element.textContent = ' ';}</script><script type="application/javascript">if (typeof Jupyter !== "undefined") {require(["nbextensions/vpython_libraries/glowcomm"], function(){console.log("GLOWCOMM LOADED");});}else{element.textContent = ' ';}</script><script type="application/javascript">if (typeof Jupyter !== "undefined") {require(["nbextensions/vpython_libraries/jquery-ui.custom.min"], function(){console.log("JQUERY LOADED");});}else{element.textContent = ' ';}</script><div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="n">line</span> <span class="mi">33</span>
<span class="g g-Whitespace">     </span><span class="mi">31</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="g g-Whitespace">     </span><span class="mi">32</span> <span class="k">while</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="n">N2</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">33</span>     <span class="n">atoms</span> <span class="o">=</span> <span class="n">atoms</span> <span class="o">+</span> <span class="p">[</span> <span class="n">sphere</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="n">vector</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">),</span>
<span class="g g-Whitespace">     </span><span class="mi">34</span>                <span class="n">radius</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span> <span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">35</span>     <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span> <span class="n">n2</span> <span class="o">=</span> <span class="mi">0</span>

<span class="nn">File ~/miniconda3/envs/jup-book/lib/python3.11/site-packages/vpython/vpython.py:1172,</span> in <span class="ni">sphere.__init__</span><span class="nt">(self, **args)</span>
<span class="g g-Whitespace">   </span><span class="mi">1170</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;_default_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1171</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;_objName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;sphere&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1172</span> <span class="nb">super</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1173</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sizing</span> <span class="o">=</span> <span class="kc">False</span>

<span class="nn">File ~/miniconda3/envs/jup-book/lib/python3.11/site-packages/vpython/vpython.py:599,</span> in <span class="ni">standardAttributes.setup</span><span class="nt">(self, args)</span>
<span class="g g-Whitespace">    </span><span class="mi">598</span> <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">599</span>     <span class="nb">super</span><span class="p">(</span><span class="n">standardAttributes</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">600</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_constructing</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1">## calls to setters are from constructor</span>
<span class="g g-Whitespace">    </span><span class="mi">602</span>     <span class="n">objName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objName</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;_objName&#39;</span><span class="p">]</span>  <span class="c1">## identifies object type</span>

<span class="nn">File ~/miniconda3/envs/jup-book/lib/python3.11/site-packages/vpython/vpython.py:257,</span> in <span class="ni">baseObj.__init__</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">254</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">baseObj</span><span class="o">.</span><span class="n">_view_constructed</span> <span class="ow">or</span>
<span class="g g-Whitespace">    </span><span class="mi">255</span>         <span class="n">baseObj</span><span class="o">.</span><span class="n">_canvas_constructing</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">256</span>     <span class="k">if</span> <span class="n">_isnotebook</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">257</span>         <span class="kn">from</span> <span class="nn">.with_notebook</span> <span class="kn">import</span> <span class="n">_</span>
<span class="g g-Whitespace">    </span><span class="mi">258</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">259</span>         <span class="kn">from</span> <span class="nn">.no_notebook</span> <span class="kn">import</span> <span class="n">_</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">miniconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">jup</span><span class="o">-</span><span class="n">book</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.11</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">vpython</span><span class="o">/</span><span class="n">with_notebook</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">153</span>
<span class="g g-Whitespace">    </span><span class="mi">151</span> <span class="n">baseObj</span><span class="o">.</span><span class="n">glow</span> <span class="o">=</span> <span class="n">GlowWidget</span><span class="p">(</span><span class="n">wsport</span><span class="o">=</span><span class="n">__SOCKET_PORT</span><span class="p">,</span> <span class="n">wsuri</span><span class="o">=</span><span class="s1">&#39;/ws&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">152</span> <span class="k">while</span> <span class="p">(</span><span class="ow">not</span> <span class="n">wsConnected</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">153</span>     <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>          <span class="c1"># wait for websocket to connect</span>
<span class="g g-Whitespace">    </span><span class="mi">155</span> <span class="n">baseObj</span><span class="o">.</span><span class="n">trigger</span><span class="p">()</span>  <span class="c1"># start the trigger ping-pong process</span>
<span class="g g-Whitespace">    </span><span class="mi">158</span> <span class="c1"># Same justification as above for removing the ipykernel check.</span>
<span class="g g-Whitespace">    </span><span class="mi">159</span> <span class="c1"># There was also an IPython version check for &gt;=4, which was</span>
<span class="g g-Whitespace">    </span><span class="mi">160</span> <span class="c1"># released in Nov 2015. Ok to stop supporting in 2.019 I think.</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="#teabags">back to top</a></p>
</section>
<section id="fitting-radioactive-decay-a-class-anchor-id-task-halflife-a">
<h2>2.3 Fitting radioactive decay <a class="anchor" id="Task_Halflife"></a><a class="headerlink" href="#fitting-radioactive-decay-a-class-anchor-id-task-halflife-a" title="Permalink to this headline">#</a></h2>
<p>Adapted from: Christian Hill, <a class="reference external" href="https://www.cambridge.org/sj/academic/subjects/physics/mathematical-methods/learning-scientific-programming-python-2nd-edition?format=PB">The Second Edition of Learning Scientific Programming with Python</a>, ISBN: 9781108745918, published by Cambridge University Press in Nov 2020.</p>
<div class="alert alert-success">
    <b>TASK 3 - Fit <sup>14</sup>C decay datasets to find half-life $\tau$  </b> 
<p>The dataset <code class="docutils literal notranslate"><span class="pre">data/14C_MC_sim.csv</span></code> contains a set of individual decay datapoints for carbon-14 over a series of time.</p>
<ul class="simple">
<li><p>Load the data (is it commented? are comments useful? what are the separators?)</p></li>
<li><p>How many sets are there?</p></li>
<li><p>Fit the data to obtain <span class="math notranslate nohighlight">\(\tau\)</span> and <span class="math notranslate nohighlight">\(N_0\)</span></p></li>
<li><p>Plot the fit, as well as the average and standard deviation OR the collection of all datasets.</p></li>
</ul>
</div><div class="alert alert-info">
        <b>HINTS: </b>   
<ul class="simple">
<li><p>Average individual simulation datapoints along the colums to use for the fitting:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>You can calculate STD to plot it as an error bar:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Profit from converting and exponential decay into a linear relation:</p></li>
</ul>
<p>    <span class="math notranslate nohighlight">\( N = N_0 ~ exp\left(\frac{-t}{\tau}\right) \)</span>          =&gt;            <span class="math notranslate nohighlight">\(ln(N) = ln(N_0) \frac{-t}{\tau} \)</span></p>
<ul class="simple">
<li><p>use <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.lstsq.html"><code class="docutils literal notranslate"><span class="pre">np.linalg.lstsq</span></code></a> function to perform a linear least-squares fit</p></li>
<li><p>OR use non-linear least squares fit, i.e. <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html">curve_fit</a> to fit to the exponential function directly. Don’t forget to..</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">curve_fit</span>
</pre></div>
</div>
</div>   
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Your Solution</span>
</pre></div>
</div>
</div>
</div>
<details>
<summary> <mark> SOLUTION example:</mark> </summary>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#load libraries and make some pretty settings</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">curve_fit</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cm</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="n">family</span><span class="o">=</span><span class="s1">&#39;Helvetica&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">cmocean</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">cmocean</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">ice</span>

<span class="c1"># Load in the data and separate into a time column, tgrid, and columns of</span>
<span class="c1"># simulation runs, Nsim. </span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;data/14C_MC_sim.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">tgrid</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">npts</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tgrid</span><span class="p">)</span>
<span class="n">Nsim</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span>
<span class="c1"># Average Nsim for each time point.</span>
<span class="n">N</span> <span class="o">=</span> <span class="n">Nsim</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Nstd</span> <span class="o">=</span> <span class="n">Nsim</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>


<span class="c1"># Least-squares fit to log(N) as a function of t: should be a straight line</span>
<span class="k">def</span> <span class="nf">decay</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">N0</span><span class="p">,</span> <span class="n">tau</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">N0</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">t</span> <span class="o">/</span> <span class="n">tau</span><span class="p">)</span>


<span class="c1"># Initial guesses: estimate tau from the noisy data or a linear fit to log(N)</span>
<span class="n">p0</span> <span class="o">=</span> <span class="n">N</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">8000</span>
<span class="n">popt</span><span class="p">,</span> <span class="n">pcov</span> <span class="o">=</span> <span class="n">curve_fit</span><span class="p">(</span><span class="n">decay</span><span class="p">,</span> <span class="n">tgrid</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">p0</span><span class="p">)</span>
<span class="n">N0</span><span class="p">,</span> <span class="n">tau</span> <span class="o">=</span> <span class="n">popt</span>

<span class="c1"># Report N0 and the half-life</span>
<span class="n">thalf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">tau</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Fitted parameters: N_0 = </span><span class="si">%.1f</span><span class="s1"> tau = </span><span class="si">%.1f</span><span class="s1"> years&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">N0</span><span class="p">,</span> <span class="n">thalf</span><span class="p">))</span>
<span class="n">NFit</span> <span class="o">=</span> <span class="n">N0</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">tgrid</span> <span class="o">/</span> <span class="n">tau</span><span class="p">)</span>

<span class="c1"># PLOT</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Plot the averaged data and the fit curve</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">cm</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">arr</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tgrid</span><span class="p">,</span> <span class="n">Nsim</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">tgrid</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">Nstd</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;dimgrey&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Average + STD&#39;</span><span class="p">)</span>

<span class="c1"># Plot the fit</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tgrid</span><span class="p">,</span>
         <span class="n">NFit</span><span class="p">,</span>
         <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
         <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;Fit with $N_0$ = </span><span class="si">%.1f</span><span class="s1">, $\tau$ = </span><span class="si">%.1f</span><span class="s1"> yr&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">N0</span><span class="p">,</span> <span class="n">thalf</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time, $t$/yr&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Remaining 14-C count, $N(t)$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;decay-fit-nonlinear.png&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</details><p><a class="reference external" href="#teabags">back to top</a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="application-3-write-an-interactive-chemistry-quiz-application">
<h1>Application 3: Write an Interactive Chemistry Quiz Application<a class="headerlink" href="#application-3-write-an-interactive-chemistry-quiz-application" title="Permalink to this headline">#</a></h1>
<p><a class="anchor" id="Quiz"></a></p>
<section id="components-of-a-good-quiz-application-a-class-anchor-id-whatis-a">
<h2>3.1 Components of a Good Quiz Application <a class="anchor" id="whatis"></a><a class="headerlink" href="#components-of-a-good-quiz-application-a-class-anchor-id-whatis-a" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">IFrame</span>
<span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;iframe src=https://www.menti.com/alikv3cbwjwt/embed width=700 height=900&gt;&lt;/iframe&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;iframe src=https://www.mentimeter.com/app/presentation/al9q2arbho621ads5j496qsweyx3nirh/embed width=700 height=400&gt;&lt;/iframe&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="prerequisites-of-a-good-quiz-application">
<h3>Prerequisites of a good Quiz application:<a class="headerlink" href="#prerequisites-of-a-good-quiz-application" title="Permalink to this headline">#</a></h3>
<ol class="simple">
<li><p>What do you want to test? What questions should you ask? How to make them non-ambiguous?</p></li>
<li><p>What are the rules of the Quiz? State them clearly.</p></li>
<li><p>Make the application user friendly, communicate to the player, interactivity is key.</p></li>
<li><p>Make sure the application is bombproof - user will make mistakes, and should be able to restart.</p></li>
<li><p>Keep the code organised: use lists/tuples/dictionaries.</p></li>
<li><p>Make sure you are not revealing information you test to the player (esp if running from a Jupyter Notebook, where code is displayed) - hide the data you test against into a file.</p></li>
<li><p>Check conditions you test with <code class="docutils literal notranslate"><span class="pre">if</span></code> statements.</p></li>
<li><p>Repeat actions with the <code class="docutils literal notranslate"><span class="pre">for</span></code>/<code class="docutils literal notranslate"><span class="pre">while</span></code> loops.</p></li>
<li><p>Use functions!</p></li>
<li><p>Make your code flexible, easy to expand - odds are you will be keen to add new functionality.</p></li>
<li><p>Keep testing by playing!</p></li>
</ol>
</section>
</section>
<section id="making-a-quiz-a-class-anchor-id-structure-quiz-a">
<h2>3.2 Making a Quiz <a class="anchor" id="structure_quiz"></a><a class="headerlink" href="#making-a-quiz-a-class-anchor-id-structure-quiz-a" title="Permalink to this headline">#</a></h2>
<p>Let’s create a quiz that will test the player on their knowledge of periodic table of elements - very chemistry Quiz!</p>
<section id="step-1-ask-your-question">
<h3>Step 1: Ask your Question<a class="headerlink" href="#step-1-ask-your-question" title="Permalink to this headline">#</a></h3>
<p>Make sure to suggest the options for the answer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">startgame</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Are you ready to start the Game? [Y/n]&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Act on the instructions (=answer) received you will need an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement.</p>
<p>Remain flexible with the answer! While suggested <code class="docutils literal notranslate"><span class="pre">Y</span></code> the use could have not paid attention and put a small <code class="docutils literal notranslate"><span class="pre">y</span></code> instead. Nevertheless, any other letter should be assumed as attempt to quit</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">startgame</span><span class="o">.</span><span class="n">lower</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;Quitting...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TRY HERE</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-2-check-the-answer-against-some-data">
<h3>Step 2:  Check the Answer against some Data<a class="headerlink" href="#step-2-check-the-answer-against-some-data" title="Permalink to this headline">#</a></h3>
<p>Hide the questions and answers behind the code into a file.</p>
<p>For example, here we can use this a datafile, containing the information on periodic table:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ptable</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/ptable.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<br>
<p>Ask the question using the datafile. Here, <code class="docutils literal notranslate"><span class="pre">random</span></code> is a handy function to randomise the questions (like used in the Application 1)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">randel</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">117</span><span class="p">)</span>

<span class="n">element</span> <span class="o">=</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">]</span>
    
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;What is the name of an element </span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">? &#39;</span><span class="p">)</span>
<span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<br>
<p>Check the answer against the datafile. Here you will need an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement.</p>
<p>Don’t forget the feedback! Even if the user is wrong, it would be good to give them the correct answer!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="c1"># feedback</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
    
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># feedback, incl correct answer!</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Wrong, it is </span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1"> &#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># TRY HERE</span>


    
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-3-no-quiz-is-good-without-a-score">
<h3>Step 3: no quiz is good without a score!<a class="headerlink" href="#step-3-no-quiz-is-good-without-a-score" title="Permalink to this headline">#</a></h3>
<p>Add a count for the score and keep track!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set the counters</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">ptable</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/ptable.csv&#39;</span><span class="p">)</span>

<span class="n">randel</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">117</span><span class="p">)</span>
<span class="n">element</span> <span class="o">=</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;What is the name of an element </span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">?&#39;</span><span class="p">)</span>
<span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># check the answer</span>
<span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
    <span class="c1">#update the score</span>
    <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span> 
    
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Wrong, it is </span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1"> &#39;</span><span class="p">)</span>

</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Want to try? or edit the code in the cell above</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-4-make-sure-the-quiz-is-not-infinite-and-users-can-exit">
<h3>Step 4: Make Sure the Quiz is not infinite and users can exit<a class="headerlink" href="#step-4-make-sure-the-quiz-is-not-infinite-and-users-can-exit" title="Permalink to this headline">#</a></h3>
<p>Even the best quiz has to come to an end!</p>
<p>Ask the user how many Questions they want to play, set the counter as a loop.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ask how many questions to set, input should be an intiger!</span>
<span class="n">qcount</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;How many questions do you want to brave this time?&#39;</span><span class="p">))</span>

<span class="c1"># print out to confirm</span>
<span class="nb">print</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&gt; You have chosen to do </span><span class="si">{</span><span class="n">qcount</span><span class="si">}</span><span class="s1"> questions&#39;</span><span class="p">)</span>

<span class="c1">#set the counter </span>
<span class="n">questions</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># start the loop over the number of questions player wants to answer</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">qcount</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span> 
        <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Wrong, it is </span><span class="si">{</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>   
        <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<br>
<p>Make sure you have given clear instructions for the game.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;I will give you an element, and you will write its symbol. &#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Answers are not case sensitive&#39;</span><span class="p">)</span>
</pre></div>
</div>
<br>
<p>Add a functionality of exiting at any time, and getting the score. This can be within the loop, testing the answers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;You can exit any time by typing `quit`&#39;</span><span class="p">)</span>

<span class="c1"># check the answer</span>
<span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span> 
    <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>
    
<span class="k">elif</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;You got </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s1"> out of </span><span class="si">{</span><span class="n">questions</span><span class="si">}</span><span class="s1"> questions!&#39;</span><span class="p">)</span>
    <span class="c1">#get out of the loop</span>
    <span class="k">break</span>
    
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Wrong, it is </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span><span class="n">element</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Now, let’s put this all the elements together in a Quiz!</p>
<hr class="docutils" />
<p><a class="reference external" href="#teabags">back to top</a></p>
</section>
</section>
<section id="write-and-play-your-quiz-a-class-anchor-id-task-quiz-a">
<h2>3.3 Write (and play) your Quiz<a class="anchor" id="Task_quiz"></a><a class="headerlink" href="#write-and-play-your-quiz-a-class-anchor-id-task-quiz-a" title="Permalink to this headline">#</a></h2>
<p>Adapted from: <a class="reference external" href="https://replit.com/&#64;IsaacCHITTILAPP">replit.com/&#64;IsaacCHITTILAPP</a></p>
<div class="alert alert-success">
    <b>TASK 4 - Write a quiz about periodic table of elements  </b> 
<ul class="simple">
<li><p>Use <a class="reference external" href="https://mendeleev.readthedocs.io/en/stable/"><code class="docutils literal notranslate"><span class="pre">mendeleev</span></code></a> package to get data on the element, its name and atomic number,<br ></p></li>
<li><p>or load the datafile <code class="docutils literal notranslate"><span class="pre">data/ptable.csv</span></code>, already containing the columns ‘symbol’, ‘name’, ‘atomic_number’ for all 117 elements.<br></p></li>
<li><p>Make sure the game is interactive:<br>
<code class="docutils literal notranslate"><span class="pre">How</span> <span class="pre">many</span> <span class="pre">questions</span> <span class="pre">would</span> <span class="pre">you</span> <span class="pre">like</span> <span class="pre">to</span> <span class="pre">attempt?</span> <span class="pre">...</span></code><br></p></li>
<li><p>Print to the screen to confirm you read in the info right:<br>
<code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">You</span> <span class="pre">have</span> <span class="pre">chosen</span> <span class="pre">to</span> <span class="pre">do</span> <span class="pre">X</span> <span class="pre">questions</span></code><br></p></li>
<li><p>Create tests for the input by the user. Did they type in an integer where they should have?</p></li>
<li><p>Provide instructions and how to get out:<br>
<code class="docutils literal notranslate"><span class="pre">Answers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">case</span> <span class="pre">sensitive</span></code><br>
<code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">`quit`</span> <span class="pre">at</span> <span class="pre">any</span> <span class="pre">time</span> <span class="pre">to</span> <span class="pre">stop</span> <span class="pre">the</span> <span class="pre">game</span> <span class="pre">and</span> <span class="pre">get</span> <span class="pre">your</span> <span class="pre">score</span></code> <br></p></li>
<li><p>Keep playing, bombproofing your code and adding extra features!</p></li>
</ul>
</div>  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># anything you need to import? </span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">mendeleev</span> <span class="k">as</span> <span class="nn">mv</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">sys</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># gather data - use mendeleev? </span>
<span class="c1"># what information would you want to include/test?</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;symbol&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;atomic_number&#39;</span><span class="p">]</span>
<span class="n">ptable</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;elements&#39;</span><span class="p">)[</span><span class="n">cols</span><span class="p">]</span>

<span class="c1"># or you can load the file data/ptable.csv prepared for you</span>
<span class="c1">#pt = pd.read_csv(&#39;data/ptable.csv&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR QUIZ</span>
</pre></div>
</div>
</div>
</div>
<details>
<summary> <mark> SOLUTION example:</mark> </summary>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">mendeleev</span> <span class="k">as</span> <span class="nn">mv</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;symbol&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;atomic_number&#39;</span><span class="p">]</span>
<span class="n">ptable</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;elements&#39;</span><span class="p">)[</span><span class="n">cols</span><span class="p">]</span>


<span class="n">startgame</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Are you ready to start the Game? [Y/n]&#39;</span><span class="p">)</span>

<span class="c1"># test if they answerred Y or y, any other letter quit</span>
<span class="k">if</span> <span class="n">startgame</span><span class="o">.</span><span class="n">lower</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;Quitting...&#39;</span><span class="p">)</span>

<span class="c1"># Give instructions</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I will give you an element, and you will write its symbol. &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Answers are not case sensitive, and you can exit any time by typing `quit`&#39;</span><span class="p">)</span>

<span class="c1"># Ask how many qestions to set, input should be an intiger</span>
<span class="n">qcount</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;How many questions do you want to brave this time?&#39;</span><span class="p">))</span>
<span class="c1"># print out to confirm</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt; You have chosen to do </span><span class="si">%s</span><span class="s1"> questions&#39;</span> <span class="o">%</span> <span class="n">qcount</span><span class="p">)</span>

<span class="c1"># set the counters</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">questions</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># start the loop over the number of questions player wants to answer</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">qcount</span><span class="p">):</span>

    <span class="c1"># get random number</span>
    <span class="n">randel</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">117</span><span class="p">)</span>

    <span class="c1"># set the question:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is the name of an element </span><span class="si">%s</span><span class="s1"> ? &#39;</span> <span class="o">%</span>
          <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;symbol&#39;</span><span class="p">])</span>

    <span class="c1"># await the answer in the new line</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># check the answer</span>
    <span class="c1"># Does it match (make sure both are set to lower case to not be case-sencitive)</span>
    <span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="c1"># feedback</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
        <span class="c1"># update counts</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># don&#39;t forget, the player may want to quit now!</span>
    <span class="k">elif</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
        <span class="c1"># feedback</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
        <span class="c1">#get out of the loop</span>
        <span class="k">break</span>

    <span class="c1"># what else can happen? the answer is wrong!</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># feedback, incl correct answer!</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Wrong, it is </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="c1">#update the question number counter, the score stays the same</span>
        <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="c1">#end the loop,</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
</pre></div>
</div>
</details><div class="alert alert-success">
    <b>TASK 5 - make the Quiz multi difficulty-level </b> 
<ul class="simple">
<li><p>create tests for the input by the user. Did the player type in an integer where they should have?</p></li>
<li><p>create levels of difficulty for the player, for example:<br>
<code class="docutils literal notranslate"><span class="pre">Level</span> <span class="pre">1:</span> <span class="pre">Gives</span> <span class="pre">you</span> <span class="pre">an</span> <span class="pre">element</span> <span class="pre">symbol,</span> <span class="pre">and</span> <span class="pre">you</span> <span class="pre">must</span> <span class="pre">give</span> <span class="pre">the</span> <span class="pre">element</span> <span class="pre">name</span></code><br>
<code class="docutils literal notranslate"><span class="pre">Level</span> <span class="pre">2:</span> <span class="pre">The</span> <span class="pre">same</span> <span class="pre">as</span> <span class="pre">difficulty</span> <span class="pre">1</span> <span class="pre">but</span> <span class="pre">it</span> <span class="pre">also</span> <span class="pre">asks</span> <span class="pre">you</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">atomic</span> <span class="pre">number</span></code><br>
<code class="docutils literal notranslate"><span class="pre">Level</span> <span class="pre">3:</span> <span class="pre">Gives</span> <span class="pre">you</span> <span class="pre">the</span> <span class="pre">atomic</span> <span class="pre">number</span> <span class="pre">and</span> <span class="pre">you</span> <span class="pre">have</span> <span class="pre">to</span> <span class="pre">give</span> <span class="pre">the</span> <span class="pre">element</span> <span class="pre">name</span> <span class="pre">and</span> <span class="pre">symbol</span></code><br></p></li>
<li><p>Keep playing and adding extra features!</p></li>
</ul>
</div>  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># YOUR SOLUTION </span>
</pre></div>
</div>
</div>
</div>
<details>
<summary> <mark> SOLUTION example - more advanced:</mark> </summary>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">mendeleev</span> <span class="k">as</span> <span class="nn">mv</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;symbol&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;atomic_number&#39;</span><span class="p">]</span>
<span class="n">ptable</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s1">&#39;elements&#39;</span><span class="p">)[</span><span class="n">cols</span><span class="p">]</span>


<span class="n">startgame</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Are you ready to start the Game? [Y/n]&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">startgame</span><span class="o">.</span><span class="n">lower</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;Quitting...&#39;</span><span class="p">)</span>
    
<span class="c1"># Give instructions</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;I will give you an element, and you will write its symbol. &#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Answers are not case sensitive, and you can exit any time by typing `quit`&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Level 1: Gives you an element symbol, and you must give the element name&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Level 2: The same as difficulty 1 but it also asks you for the atomic number&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Level 3: Gives you the atomic number and you have to give the element name and symbol&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># ask what level</span>
<span class="n">level</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Choose difficulty level 1, 2 or 3 : &#39;</span><span class="p">)</span>

<span class="c1">#test the answer is within the range</span>
<span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&gt; You have chosen level </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="n">level</span> <span class="p">)</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&gt; You have chosen level above possible&#39;</span> <span class="p">)</span>
    <span class="n">level</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Try again and choose difficulty level 1, 2 or 3 : &#39;</span><span class="p">)</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&gt; You have chosen level </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span><span class="n">level</span> <span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&gt; You have chosen level above possible. There is no hope in you&#39;</span> <span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;Quitting...&#39;</span><span class="p">)</span>
        

<span class="c1"># Ask how many qestions to set</span>
<span class="n">qcount</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;How many questions do you want to brave this time?&#39;</span><span class="p">))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&gt; You have chosen to do </span><span class="si">%s</span><span class="s1"> questions&#39;</span> <span class="o">%</span><span class="n">qcount</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    
    
<span class="c1"># set the counters</span>
<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">questions</span> <span class="o">=</span> <span class="mi">0</span>


<span class="c1"># start a loop of Qs depending on the level:</span>

    
<span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
    <span class="c1"># start the loop over the number of questions player wants to answer</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">qcount</span><span class="p">):</span>
        <span class="c1"># get random number</span>
        <span class="n">randel</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">117</span><span class="p">)</span>
        
        <span class="c1"># set the question:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is the name of an element </span><span class="si">%s</span><span class="s1"> ? &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;symbol&#39;</span><span class="p">])</span>
        
        <span class="c1"># await the answer</span>
        <span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    
        <span class="c1"># check the answer</span>
        <span class="c1"># Does it match (make sure both are set to lower case to not be case-sencitive)</span>
        <span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="c1"># feedback</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
            <span class="c1"># update counts</span>
            <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>
            
            
        <span class="c1"># don&#39;t forget, the player may want to quit now! </span>
        <span class="k">elif</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
            <span class="c1"># feedback</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
            <span class="c1">#get out of the loop</span>
            <span class="k">break</span>
            
        <span class="c1"># what else can happen? the answer is wrong!</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># feedback, incl correct answer!</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Wrong, it is </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
            <span class="c1">#update the question number counter, the score stays the same</span>
            <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>
            
    <span class="c1">#end the loop,         </span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>


<span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">qcount</span><span class="p">):</span>
        <span class="n">randel</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">117</span><span class="p">)</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is the name of an element </span><span class="si">%s</span><span class="s1"> ? &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;symbol&#39;</span><span class="p">])</span>
        
        <span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Name:&#39;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
            
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is the atomic number of an element </span><span class="si">%s</span><span class="s1"> ? &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;symbol&#39;</span><span class="p">])</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Atomic number: &#39;</span><span class="p">))</span>
            
            
            <span class="c1">#check if correct</span>
            <span class="k">if</span> <span class="n">answer</span> <span class="o">==</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;atomic_number&#39;</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct again!&#39;</span><span class="p">)</span>
                <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">elif</span> <span class="n">answer</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
                <span class="k">break</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Wrong, it is </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;atomic_number&#39;</span><span class="p">])</span>                    
                <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">elif</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
            <span class="k">break</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Wrong, it is </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
            <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>
            
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
        
  

<span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">qcount</span><span class="p">):</span>
        <span class="n">randel</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">117</span><span class="p">)</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is the name of an element number </span><span class="si">%s</span><span class="s1"> ? &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;atomic_number&#39;</span><span class="p">])</span>
        
        <span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Name: &#39;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct!&#39;</span><span class="p">)</span>
            
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;What is the symbol of an element number </span><span class="si">%s</span><span class="s1"> ? &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;atomic_number&#39;</span><span class="p">])</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Symbol: &#39;</span><span class="p">)</span>
            
            
            <span class="c1">#check if correct</span>
            <span class="k">if</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct again!&#39;</span><span class="p">)</span>
                <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">elif</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
                <span class="k">break</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Wrong, it is </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>                    
                <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">elif</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
            <span class="k">break</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Wrong, it is </span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">ptable</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">randel</span><span class="p">][</span><span class="s1">&#39;symbol&#39;</span><span class="p">]))</span>
            <span class="n">questions</span> <span class="o">+=</span> <span class="mi">1</span>
            
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You got </span><span class="si">%s</span><span class="s1"> out of </span><span class="si">%s</span><span class="s1"> questions!&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">questions</span><span class="p">))</span>
    
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;this is not a level&#39;</span><span class="p">)</span>
    
</pre></div>
</div>
</details><div class="alert alert-info">
<b> Have you made a cool code and want to share it with others?</b> You could:<br>
- Upload it to GitHub <br>
- Convert into a trinket.io or replit.com, and embed into a website/Learn page <br>
</div>  <p><a class="reference external" href="#teabags">back to top</a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="give-us-feedback-please">
<h1>Give us Feedback Please!<a class="headerlink" href="#give-us-feedback-please" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;iframe src=https://www.menti.com/aljarwxn8wdu/embed width=700 height=600&gt;&lt;/iframe&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Unit_08"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../Unit_07/Unit_07_fitting_II.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Unit 07 Fitting Part II</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../Unit_09/Unit_09_applications_II_part_I.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Unit 09: Applications II UV-Vis Spectroscopy</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Edinburgh Chemistry Teaching<br/>
  
      &copy; Copyright 2023.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>